<?xml version="1.0" encoding="UTF-8"?>
<library xmlns="urn:hl7-org:elm:r1" xmlns:t="urn:hl7-org:elm-types:r1" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:fhir="http://hl7.org/fhir" xmlns:a="urn:hl7-org:cql-annotations:r1">
    <annotation startLine="17" startChar="7" endLine="17" endChar="37" message="Could not resolve membership operator for terminology target of the retrieve." errorType="semantic" errorSeverity="warning" xsi:type="a:CqlToElmError"/>
    <annotation startLine="23" startChar="9" endLine="23" endChar="48" message="Could not resolve membership operator for terminology target of the retrieve." errorType="semantic" errorSeverity="warning" xsi:type="a:CqlToElmError"/>
    <annotation startLine="70" startChar="9" endLine="70" endChar="43" message="Could not resolve membership operator for terminology target of the retrieve." errorType="semantic" errorSeverity="warning" xsi:type="a:CqlToElmError"/>
    <annotation startLine="117" startChar="9" endLine="117" endChar="41" message="Could not resolve membership operator for terminology target of the retrieve." errorType="semantic" errorSeverity="warning" xsi:type="a:CqlToElmError"/>
    <annotation startLine="164" startChar="9" endLine="164" endChar="48" message="Could not resolve membership operator for terminology target of the retrieve." errorType="semantic" errorSeverity="warning" xsi:type="a:CqlToElmError"/>
    <annotation startLine="168" startChar="5" endLine="168" endChar="41" message="Could not resolve membership operator for terminology target of the retrieve." errorType="semantic" errorSeverity="warning" xsi:type="a:CqlToElmError"/>
    <annotation startLine="222" startChar="9" endLine="222" endChar="47" message="Could not resolve membership operator for terminology target of the retrieve." errorType="semantic" errorSeverity="warning" xsi:type="a:CqlToElmError"/>
    <annotation startLine="273" startChar="9" endLine="273" endChar="46" message="Could not resolve membership operator for terminology target of the retrieve." errorType="semantic" errorSeverity="warning" xsi:type="a:CqlToElmError"/>
    <identifier id="DiabetesManagement" version="1.0"/>
    <schemaIdentifier id="urn:hl7-org:elm" version="r1"/>
    <usings>
        <def localIdentifier="System" uri="urn:hl7-org:elm-types:r1"/>
        <def localId="1" localIdentifier="FHIR" uri="http://hl7.org/fhir" version="3.0.0"/>
    </usings>
    <valueSets>
        <def localId="2" name="Diabetes" id="diabetes-condition" accessLevel="Public"/>
        <def localId="3" name="Abnormal Interpretation Codes" id="1.2.3.4.6" accessLevel="Public"/>
        <def localId="4" name="Creatinine Labs" id="1.2.3.4.7" accessLevel="Public"/>
        <def localId="5" name="HbA1C Labs" id="1.2.3.4.8" accessLevel="Public"/>
        <def localId="6" name="LDL Labs" id="1.2.3.4.9" accessLevel="Public"/>
        <def localId="7" name="MicroalbCr Labs" id="1.2.3.5.0" accessLevel="Public"/>
        <def localId="8" name="ACE or ARB Medication" id="1.2.3.5.1" accessLevel="Public"/>
        <def localId="9" name="Foot Exam Labs" id="1.2.3.5.2" accessLevel="Public"/>
        <def localId="10" name="Eye Exam Labs" id="1.2.3.5.3" accessLevel="Public"/>
    </valueSets>
    <statements>
        <def localId="25" name="Has Diabetes" context="Patient" accessLevel="Public">
            <annotation xsi:type="a:Annotation">
                <a:s r="25">
                    <a:s>define &quot;Has Diabetes&quot;:
                    </a:s>
                    <a:s r="24">
                        <a:s>exists</a:s>
                        <a:s r="23">
                            <a:s>(
                            </a:s>
                            <a:s r="23">
                                <a:s>
                                    <a:s r="12">
                                        <a:s r="11">
                                            <a:s r="11">
                                                <a:s>[Condition: code in </a:s>
                                                <a:s>
                                                    <a:s>&quot;Diabetes&quot;</a:s>
                                                </a:s>
                                                <a:s>]</a:s>
                                            </a:s>
                                        </a:s>
                                        <a:s> DiabetesCondition</a:s>
                                    </a:s>
                                </a:s>
                                <a:s>
                                </a:s>
                                <a:s r="22">
                                    <a:s>where </a:s>
                                    <a:s r="22">
                                        <a:s r="17">
                                            <a:s r="15">
                                                <a:s r="14">
                                                    <a:s r="13">
                                                        <a:s>DiabetesCondition</a:s>
                                                    </a:s>
                                                    <a:s>.</a:s>
                                                    <a:s r="14">
                                                        <a:s>clinicalStatus</a:s>
                                                    </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="15">
                                                    <a:s>value</a:s>
                                                </a:s>
                                            </a:s>
                                            <a:s> = </a:s>
                                            <a:s r="16">
                                                <a:s>'active'</a:s>
                                            </a:s>
                                        </a:s>
                                        <a:s>
                                            and </a:s>
                                        <a:s r="21">
                                            <a:s r="20">
                                                <a:s r="19">
                                                    <a:s r="18">
                                                        <a:s>DiabetesCondition</a:s>
                                                    </a:s>
                                                    <a:s>.</a:s>
                                                    <a:s r="19">
                                                        <a:s>abatement</a:s>
                                                    </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="20">
                                                    <a:s>value</a:s>
                                                </a:s>
                                            </a:s>
                                            <a:s> is null</a:s>
                                        </a:s>
                                    </a:s>
                                </a:s>
                            </a:s>
                            <a:s>
                                )</a:s>
                        </a:s>
                    </a:s>
                </a:s>
            </annotation>
            <expression localId="24" xsi:type="Exists">
                <operand localId="23" xsi:type="Query">
                    <source localId="12" alias="DiabetesCondition">
                        <expression localId="11" dataType="fhir:Condition" codeProperty="code" xsi:type="Retrieve">
                            <codes name="Diabetes" xsi:type="ValueSetRef"/>
                        </expression>
                    </source>
                    <where localId="22" xsi:type="And">
                        <operand localId="17" xsi:type="Equal">
                            <operand localId="15" path="value" xsi:type="Property">
                                <source localId="14" path="clinicalStatus" scope="DiabetesCondition" xsi:type="Property"/>
                            </operand>
                            <operand localId="16" valueType="t:String" value="active" xsi:type="Literal"/>
                        </operand>
                        <operand localId="21" xsi:type="IsNull">
                            <operand localId="20" path="value" xsi:type="Property">
                                <source localId="19" path="abatement" scope="DiabetesCondition" xsi:type="Property"/>
                            </operand>
                        </operand>
                    </where>
                </operand>
            </expression>
        </def>
        <def localId="28" name="Get Last Creatinine Lab Result" context="Patient" accessLevel="Public">
            <annotation xsi:type="a:Annotation">
                <a:s r="28">
                    <a:s>define &quot;Get Last Creatinine Lab Result&quot;:
                    </a:s>
                    <a:s r="27">
                        <a:s>Last( </a:s>
                        <a:s r="26">
                            <a:s>[Observation: code in </a:s>
                            <a:s>
                                <a:s>&quot;Creatinine Labs&quot;</a:s>
                            </a:s>
                            <a:s>]</a:s>
                        </a:s>
                        <a:s> )</a:s>
                    </a:s>
                </a:s>
            </annotation>
            <expression localId="27" xsi:type="Last">
                <source localId="26" dataType="fhir:Observation" codeProperty="code" xsi:type="Retrieve">
                    <codes name="Creatinine Labs" xsi:type="ValueSetRef"/>
                </source>
            </expression>
        </def>
        <def localId="51" name="CodingToCode" context="Patient" accessLevel="Public" xsi:type="FunctionDef">
            <annotation xsi:type="a:Annotation">
                <a:s r="51">
                    <a:s>define function CodingToCode(coding </a:s>
                    <a:s r="37">
                        <a:s>FHIR.Coding</a:s>
                    </a:s>
                    <a:s>):
                    </a:s>
                    <a:s r="50">
                        <a:s r="50">
                            <a:s>System.Code {
                            </a:s>
                            <a:s>
                                <a:s>code: </a:s>
                                <a:s r="40">
                                    <a:s r="39">
                                        <a:s r="38">
                                            <a:s>coding</a:s>
                                        </a:s>
                                        <a:s>.</a:s>
                                        <a:s r="39">
                                            <a:s>code</a:s>
                                        </a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="40">
                                        <a:s>value</a:s>
                                    </a:s>
                                </a:s>
                            </a:s>
                            <a:s>,
                            </a:s>
                            <a:s>
                                <a:s>system: </a:s>
                                <a:s r="43">
                                    <a:s r="42">
                                        <a:s r="41">
                                            <a:s>coding</a:s>
                                        </a:s>
                                        <a:s>.</a:s>
                                        <a:s r="42">
                                            <a:s>system</a:s>
                                        </a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="43">
                                        <a:s>value</a:s>
                                    </a:s>
                                </a:s>
                            </a:s>
                            <a:s>,
                            </a:s>
                            <a:s>
                                <a:s>version: </a:s>
                                <a:s r="46">
                                    <a:s r="45">
                                        <a:s r="44">
                                            <a:s>coding</a:s>
                                        </a:s>
                                        <a:s>.</a:s>
                                        <a:s r="45">
                                            <a:s>version</a:s>
                                        </a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="46">
                                        <a:s>value</a:s>
                                    </a:s>
                                </a:s>
                            </a:s>
                            <a:s>,
                            </a:s>
                            <a:s>
                                <a:s>display: </a:s>
                                <a:s r="49">
                                    <a:s r="48">
                                        <a:s r="47">
                                            <a:s>coding</a:s>
                                        </a:s>
                                        <a:s>.</a:s>
                                        <a:s r="48">
                                            <a:s>display</a:s>
                                        </a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="49">
                                        <a:s>value</a:s>
                                    </a:s>
                                </a:s>
                            </a:s>
                            <a:s>
                                }</a:s>
                        </a:s>
                    </a:s>
                </a:s>
            </annotation>
            <expression localId="50" classType="t:Code" xsi:type="Instance">
                <element name="code">
                    <value localId="40" path="value" xsi:type="Property">
                        <source localId="39" path="code" xsi:type="Property">
                            <source localId="38" name="coding" xsi:type="OperandRef"/>
                        </source>
                    </value>
                </element>
                <element name="system">
                    <value localId="43" path="value" xsi:type="Property">
                        <source localId="42" path="system" xsi:type="Property">
                            <source localId="41" name="coding" xsi:type="OperandRef"/>
                        </source>
                    </value>
                </element>
                <element name="version">
                    <value localId="46" path="value" xsi:type="Property">
                        <source localId="45" path="version" xsi:type="Property">
                            <source localId="44" name="coding" xsi:type="OperandRef"/>
                        </source>
                    </value>
                </element>
                <element name="display">
                    <value localId="49" path="value" xsi:type="Property">
                        <source localId="48" path="display" xsi:type="Property">
                            <source localId="47" name="coding" xsi:type="OperandRef"/>
                        </source>
                    </value>
                </element>
            </expression>
            <operand name="coding">
                <operandTypeSpecifier localId="37" name="fhir:Coding" xsi:type="NamedTypeSpecifier"/>
            </operand>
        </def>
        <def localId="59" name="ToConcept" context="Patient" accessLevel="Public" xsi:type="FunctionDef">
            <annotation xsi:type="a:Annotation">
                <a:s r="59">
                    <a:s>define function ToConcept(concept </a:s>
                    <a:s r="33">
                        <a:s>FHIR.CodeableConcept</a:s>
                    </a:s>
                    <a:s>):
                    </a:s>
                    <a:s r="58">
                        <a:s r="58">
                            <a:s>System.Concept {
                            </a:s>
                            <a:s>
                                <a:s>codes: </a:s>
                                <a:s r="54">
                                    <a:s>
                                        <a:s r="35">
                                            <a:s r="34">
                                                <a:s>
                                                    <a:s>concept.coding</a:s>
                                                </a:s>
                                            </a:s>
                                            <a:s> C</a:s>
                                        </a:s>
                                    </a:s>
                                    <a:s> </a:s>
                                    <a:s r="53">
                                        <a:s>return </a:s>
                                        <a:s r="52">
                                            <a:s>CodingToCode(</a:s>
                                            <a:s r="36">
                                                <a:s>C</a:s>
                                            </a:s>
                                            <a:s>)</a:s>
                                        </a:s>
                                    </a:s>
                                </a:s>
                            </a:s>
                            <a:s>,
                            </a:s>
                            <a:s>
                                <a:s>display: </a:s>
                                <a:s r="57">
                                    <a:s r="56">
                                        <a:s r="55">
                                            <a:s>concept</a:s>
                                        </a:s>
                                        <a:s>.</a:s>
                                        <a:s r="56">
                                            <a:s>text</a:s>
                                        </a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="57">
                                        <a:s>value</a:s>
                                    </a:s>
                                </a:s>
                            </a:s>
                            <a:s>
                                }</a:s>
                        </a:s>
                    </a:s>
                </a:s>
            </annotation>
            <expression localId="58" classType="t:Concept" xsi:type="Instance">
                <element name="codes">
                    <value localId="54" xsi:type="Query">
                        <source localId="35" alias="C">
                            <expression localId="34" path="coding" xsi:type="Property">
                                <source name="concept" xsi:type="OperandRef"/>
                            </expression>
                        </source>
                        <return localId="53">
                            <expression localId="52" name="CodingToCode" xsi:type="FunctionRef">
                                <operand localId="36" name="C" xsi:type="AliasRef"/>
                            </expression>
                        </return>
                    </value>
                </element>
                <element name="display">
                    <value localId="57" path="value" xsi:type="Property">
                        <source localId="56" path="text" xsi:type="Property">
                            <source localId="55" name="concept" xsi:type="OperandRef"/>
                        </source>
                    </value>
                </element>
            </expression>
            <operand name="concept">
                <operandTypeSpecifier localId="33" name="fhir:CodeableConcept" xsi:type="NamedTypeSpecifier"/>
            </operand>
        </def>
        <def localId="65" name="Has Abnormal Creatinine" context="Patient" accessLevel="Public">
            <annotation xsi:type="a:Annotation">
                <a:s r="65">
                    <a:s>define &quot;Has Abnormal Creatinine&quot;:
                    </a:s>
                    <a:s r="64">
                        <a:s>
                            <a:s r="30">
                                <a:s r="29">
                                    <a:s>
                                        <a:s>&quot;Get Last Creatinine Lab Result&quot;</a:s>
                                    </a:s>
                                </a:s>
                                <a:s> Result</a:s>
                            </a:s>
                        </a:s>
                        <a:s>
                        </a:s>
                        <a:s r="63">
                            <a:s>return
                            </a:s>
                            <a:s r="62">
                                <a:s r="60">
                                    <a:s>ToConcept(</a:s>
                                    <a:s r="32">
                                        <a:s r="31">
                                            <a:s>Result</a:s>
                                        </a:s>
                                        <a:s>.</a:s>
                                        <a:s r="32">
                                            <a:s>interpretation</a:s>
                                        </a:s>
                                    </a:s>
                                    <a:s>)</a:s>
                                </a:s>
                                <a:s> in </a:s>
                                <a:s r="61">
                                    <a:s>&quot;Abnormal Interpretation Codes&quot;</a:s>
                                </a:s>
                            </a:s>
                        </a:s>
                    </a:s>
                </a:s>
            </annotation>
            <expression localId="64" xsi:type="Query">
                <source localId="30" alias="Result">
                    <expression localId="29" name="Get Last Creatinine Lab Result" xsi:type="ExpressionRef"/>
                </source>
                <return localId="63">
                    <expression localId="62" xsi:type="InValueSet">
                        <code localId="60" name="ToConcept" xsi:type="FunctionRef">
                            <operand localId="32" path="interpretation" scope="Result" xsi:type="Property"/>
                        </code>
                        <valueset localId="61" name="Abnormal Interpretation Codes"/>
                    </expression>
                </return>
            </expression>
        </def>
        <def localId="80" name="ToQuantity" context="Patient" accessLevel="Public" xsi:type="FunctionDef">
            <annotation xsi:type="a:Annotation">
                <a:s r="80">
                    <a:s>define function ToQuantity(quantity </a:s>
                    <a:s r="72">
                        <a:s>FHIR.Quantity</a:s>
                    </a:s>
                    <a:s>):
                    </a:s>
                    <a:s r="79">
                        <a:s r="79">
                            <a:s>System.Quantity {
                            </a:s>
                            <a:s>
                                <a:s>value: </a:s>
                                <a:s r="75">
                                    <a:s r="74">
                                        <a:s r="73">
                                            <a:s>quantity</a:s>
                                        </a:s>
                                        <a:s>.</a:s>
                                        <a:s r="74">
                                            <a:s>value</a:s>
                                        </a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="75">
                                        <a:s>value</a:s>
                                    </a:s>
                                </a:s>
                            </a:s>
                            <a:s>,
                            </a:s>
                            <a:s>
                                <a:s>unit: </a:s>
                                <a:s r="78">
                                    <a:s r="77">
                                        <a:s r="76">
                                            <a:s>quantity</a:s>
                                        </a:s>
                                        <a:s>.</a:s>
                                        <a:s r="77">
                                            <a:s>unit</a:s>
                                        </a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="78">
                                        <a:s>value</a:s>
                                    </a:s>
                                </a:s>
                            </a:s>
                            <a:s>
                                }</a:s>
                        </a:s>
                    </a:s>
                </a:s>
            </annotation>
            <expression localId="79" classType="t:Quantity" xsi:type="Instance">
                <element name="value">
                    <value localId="75" path="value" xsi:type="Property">
                        <source localId="74" path="value" xsi:type="Property">
                            <source localId="73" name="quantity" xsi:type="OperandRef"/>
                        </source>
                    </value>
                </element>
                <element name="unit">
                    <value localId="78" path="value" xsi:type="Property">
                        <source localId="77" path="unit" xsi:type="Property">
                            <source localId="76" name="quantity" xsi:type="OperandRef"/>
                        </source>
                    </value>
                </element>
            </expression>
            <operand name="quantity">
                <operandTypeSpecifier localId="72" name="fhir:Quantity" xsi:type="NamedTypeSpecifier"/>
            </operand>
        </def>
        <def localId="84" name="Get Creatinine Quantity" context="Patient" accessLevel="Public">
            <annotation xsi:type="a:Annotation">
                <a:s r="84">
                    <a:s>define &quot;Get Creatinine Quantity&quot;:
                    </a:s>
                    <a:s r="83">
                        <a:s>
                            <a:s r="67">
                                <a:s r="66">
                                    <a:s>
                                        <a:s>&quot;Get Last Creatinine Lab Result&quot;</a:s>
                                    </a:s>
                                </a:s>
                                <a:s> Result</a:s>
                            </a:s>
                        </a:s>
                        <a:s>
                        </a:s>
                        <a:s r="82">
                            <a:s>return </a:s>
                            <a:s r="81">
                                <a:s>ToQuantity(</a:s>
                                <a:s r="71">
                                    <a:s r="69">
                                        <a:s r="68">
                                            <a:s>Result</a:s>
                                        </a:s>
                                        <a:s>.</a:s>
                                        <a:s r="69">
                                            <a:s>value</a:s>
                                        </a:s>
                                    </a:s>
                                    <a:s> as </a:s>
                                    <a:s r="70">
                                        <a:s>Quantity</a:s>
                                    </a:s>
                                </a:s>
                                <a:s>)</a:s>
                            </a:s>
                        </a:s>
                    </a:s>
                </a:s>
            </annotation>
            <expression localId="83" xsi:type="Query">
                <source localId="67" alias="Result">
                    <expression localId="66" name="Get Last Creatinine Lab Result" xsi:type="ExpressionRef"/>
                </source>
                <return localId="82">
                    <expression localId="81" name="ToQuantity" xsi:type="FunctionRef">
                        <operand localId="71" strict="false" xsi:type="As">
                            <operand localId="69" path="value" scope="Result" xsi:type="Property"/>
                            <asTypeSpecifier localId="70" name="fhir:Quantity" xsi:type="NamedTypeSpecifier"/>
                        </operand>
                    </expression>
                </return>
            </expression>
        </def>
        <def localId="118" name="PeriodToInterval" context="Patient" accessLevel="Public" xsi:type="FunctionDef">
            <annotation xsi:type="a:Annotation">
                <a:s r="118">
                    <a:s>define function PeriodToInterval(value </a:s>
                    <a:s r="110">
                        <a:s>FHIR.Period</a:s>
                    </a:s>
                    <a:s>):
                    </a:s>
                    <a:s r="117">
                        <a:s r="117">
                            <a:s>Interval[</a:s>
                            <a:s r="113">
                                <a:s r="112">
                                    <a:s r="111">
                                        <a:s>value</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="112">
                                        <a:s>&quot;start&quot;</a:s>
                                    </a:s>
                                </a:s>
                                <a:s>.</a:s>
                                <a:s r="113">
                                    <a:s>value</a:s>
                                </a:s>
                            </a:s>
                            <a:s>, </a:s>
                            <a:s r="116">
                                <a:s r="115">
                                    <a:s r="114">
                                        <a:s>value</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="115">
                                        <a:s>&quot;end&quot;</a:s>
                                    </a:s>
                                </a:s>
                                <a:s>.</a:s>
                                <a:s r="116">
                                    <a:s>value</a:s>
                                </a:s>
                            </a:s>
                            <a:s>]</a:s>
                        </a:s>
                    </a:s>
                </a:s>
            </annotation>
            <expression localId="117" lowClosed="true" highClosed="true" xsi:type="Interval">
                <low localId="113" path="value" xsi:type="Property">
                    <source localId="112" path="start" xsi:type="Property">
                        <source localId="111" name="value" xsi:type="OperandRef"/>
                    </source>
                </low>
                <high localId="116" path="value" xsi:type="Property">
                    <source localId="115" path="end" xsi:type="Property">
                        <source localId="114" name="value" xsi:type="OperandRef"/>
                    </source>
                </high>
            </expression>
            <operand name="value">
                <operandTypeSpecifier localId="110" name="fhir:Period" xsi:type="NamedTypeSpecifier"/>
            </operand>
        </def>
        <def localId="130" name="Needs Creatinine Test" context="Patient" accessLevel="Public">
            <annotation xsi:type="a:Annotation">
                <a:s r="130">
                    <a:s>define &quot;Needs Creatinine Test&quot;:
                    </a:s>
                    <a:s r="129">
                        <a:s>
                            <a:s r="86">
                                <a:s r="85">
                                    <a:s>
                                        <a:s>&quot;Get Last Creatinine Lab Result&quot;</a:s>
                                    </a:s>
                                </a:s>
                                <a:s> Result</a:s>
                            </a:s>
                        </a:s>
                        <a:s>
                        </a:s>
                        <a:s r="128">
                            <a:s>return
                            </a:s>
                            <a:s r="127">
                                <a:s>case
                                </a:s>
                                <a:s r="91">
                                    <a:s>when </a:s>
                                    <a:s r="89">
                                        <a:s r="88">
                                            <a:s r="87">
                                                <a:s>Result</a:s>
                                            </a:s>
                                            <a:s>.</a:s>
                                            <a:s r="88">
                                                <a:s>effective</a:s>
                                            </a:s>
                                        </a:s>
                                        <a:s> is null</a:s>
                                    </a:s>
                                    <a:s>
                                        then true</a:s>
                                </a:s>
                                <a:s>
                                </a:s>
                                <a:s r="103">
                                    <a:s>when </a:s>
                                    <a:s r="95">
                                        <a:s r="93">
                                            <a:s r="92">
                                                <a:s>Result</a:s>
                                            </a:s>
                                            <a:s>.</a:s>
                                            <a:s r="93">
                                                <a:s>effective</a:s>
                                            </a:s>
                                        </a:s>
                                        <a:s> is </a:s>
                                        <a:s r="94">
                                            <a:s>dateTime</a:s>
                                        </a:s>
                                    </a:s>
                                    <a:s>
                                        then </a:s>
                                    <a:s r="102">
                                        <a:s r="100">
                                            <a:s>(</a:s>
                                            <a:s r="100">
                                                <a:s r="98">
                                                    <a:s r="97">
                                                        <a:s r="96">
                                                            <a:s>Result</a:s>
                                                        </a:s>
                                                        <a:s>.</a:s>
                                                        <a:s r="97">
                                                            <a:s>effective</a:s>
                                                        </a:s>
                                                    </a:s>
                                                    <a:s>.</a:s>
                                                    <a:s r="98">
                                                        <a:s>value</a:s>
                                                    </a:s>
                                                </a:s>
                                                <a:s> + </a:s>
                                                <a:s r="99">
                                                    <a:s>1 year</a:s>
                                                </a:s>
                                            </a:s>
                                            <a:s>)</a:s>
                                        </a:s>
                                        <a:s> &lt; </a:s>
                                        <a:s r="101">
                                            <a:s>Today()</a:s>
                                        </a:s>
                                    </a:s>
                                </a:s>
                                <a:s>
                                </a:s>
                                <a:s r="125">
                                    <a:s>when </a:s>
                                    <a:s r="107">
                                        <a:s r="105">
                                            <a:s r="104">
                                                <a:s>Result</a:s>
                                            </a:s>
                                            <a:s>.</a:s>
                                            <a:s r="105">
                                                <a:s>effective</a:s>
                                            </a:s>
                                        </a:s>
                                        <a:s> is </a:s>
                                        <a:s r="106">
                                            <a:s>Period</a:s>
                                        </a:s>
                                    </a:s>
                                    <a:s>
                                        then </a:s>
                                    <a:s r="124">
                                        <a:s r="122">
                                            <a:s>(</a:s>
                                            <a:s r="122">
                                                <a:s r="120">
                                                    <a:s>end of </a:s>
                                                    <a:s r="119">
                                                        <a:s>PeriodToInterval(</a:s>
                                                        <a:s r="109">
                                                            <a:s r="108">
                                                                <a:s>Result</a:s>
                                                            </a:s>
                                                            <a:s>.</a:s>
                                                            <a:s r="109">
                                                                <a:s>effective</a:s>
                                                            </a:s>
                                                        </a:s>
                                                        <a:s>)</a:s>
                                                    </a:s>
                                                </a:s>
                                                <a:s> + </a:s>
                                                <a:s r="121">
                                                    <a:s>1 year</a:s>
                                                </a:s>
                                            </a:s>
                                            <a:s>)</a:s>
                                        </a:s>
                                        <a:s> &lt; </a:s>
                                        <a:s r="123">
                                            <a:s>Today()</a:s>
                                        </a:s>
                                    </a:s>
                                </a:s>
                                <a:s>
                                    else false
                                    end</a:s>
                            </a:s>
                        </a:s>
                    </a:s>
                </a:s>
            </annotation>
            <expression localId="129" xsi:type="Query">
                <source localId="86" alias="Result">
                    <expression localId="85" name="Get Last Creatinine Lab Result" xsi:type="ExpressionRef"/>
                </source>
                <return localId="128">
                    <expression localId="127" xsi:type="Case">
                        <caseItem localId="91">
                            <when localId="89" xsi:type="IsNull">
                                <operand localId="88" path="effective" scope="Result" xsi:type="Property"/>
                            </when>
                            <then localId="90" valueType="t:Boolean" value="true" xsi:type="Literal"/>
                        </caseItem>
                        <caseItem localId="103">
                            <when localId="95" xsi:type="Is">
                                <operand localId="93" path="effective" scope="Result" xsi:type="Property"/>
                                <isTypeSpecifier localId="94" name="fhir:dateTime" xsi:type="NamedTypeSpecifier"/>
                            </when>
                            <then localId="102" xsi:type="Less">
                                <operand localId="100" xsi:type="Add">
                                    <operand localId="98" path="value" xsi:type="Property">
                                        <source localId="97" path="effective" scope="Result" xsi:type="Property"/>
                                    </operand>
                                    <operand localId="99" value="1" unit="year" xsi:type="Quantity"/>
                                </operand>
                                <operand localId="101" xsi:type="Today"/>
                            </then>
                        </caseItem>
                        <caseItem localId="125">
                            <when localId="107" xsi:type="Is">
                                <operand localId="105" path="effective" scope="Result" xsi:type="Property"/>
                                <isTypeSpecifier localId="106" name="fhir:Period" xsi:type="NamedTypeSpecifier"/>
                            </when>
                            <then localId="124" xsi:type="Less">
                                <operand localId="122" xsi:type="Add">
                                    <operand localId="120" xsi:type="End">
                                        <operand localId="119" name="PeriodToInterval" xsi:type="FunctionRef">
                                            <operand asType="fhir:Period" xsi:type="As">
                                                <operand localId="109" path="effective" scope="Result" xsi:type="Property"/>
                                                <asTypeSpecifier name="fhir:Period" xsi:type="NamedTypeSpecifier"/>
                                            </operand>
                                        </operand>
                                    </operand>
                                    <operand localId="121" value="1" unit="year" xsi:type="Quantity"/>
                                </operand>
                                <operand localId="123" xsi:type="Today"/>
                            </then>
                        </caseItem>
                        <else localId="126" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                    </expression>
                </return>
            </expression>
        </def>
        <def localId="165" name="Should Consider Ordering Creatinine Test" context="Patient" accessLevel="Public">
            <annotation xsi:type="a:Annotation">
                <a:s r="165">
                    <a:s>define &quot;Should Consider Ordering Creatinine Test&quot;:
                    </a:s>
                    <a:s r="164">
                        <a:s r="132">
                            <a:s>not </a:s>
                            <a:s r="131">
                                <a:s>&quot;Needs Creatinine Test&quot;</a:s>
                            </a:s>
                        </a:s>
                        <a:s>
                            and
                        </a:s>
                        <a:s r="163">
                            <a:s>
                                <a:s r="134">
                                    <a:s r="133">
                                        <a:s>
                                            <a:s>&quot;Get Last Creatinine Lab Result&quot;</a:s>
                                        </a:s>
                                    </a:s>
                                    <a:s> Result</a:s>
                                </a:s>
                            </a:s>
                            <a:s>
                            </a:s>
                            <a:s r="162">
                                <a:s>return
                                </a:s>
                                <a:s r="161">
                                    <a:s>case
                                    </a:s>
                                    <a:s r="146">
                                        <a:s>when </a:s>
                                        <a:s r="138">
                                            <a:s r="136">
                                                <a:s r="135">
                                                    <a:s>Result</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="136">
                                                    <a:s>effective</a:s>
                                                </a:s>
                                            </a:s>
                                            <a:s> is </a:s>
                                            <a:s r="137">
                                                <a:s>dateTime</a:s>
                                            </a:s>
                                        </a:s>
                                        <a:s>
                                            then </a:s>
                                        <a:s r="145">
                                            <a:s r="143">
                                                <a:s>(</a:s>
                                                <a:s r="143">
                                                    <a:s r="141">
                                                        <a:s r="140">
                                                            <a:s r="139">
                                                                <a:s>Result</a:s>
                                                            </a:s>
                                                            <a:s>.</a:s>
                                                            <a:s r="140">
                                                                <a:s>effective</a:s>
                                                            </a:s>
                                                        </a:s>
                                                        <a:s>.</a:s>
                                                        <a:s r="141">
                                                            <a:s>value</a:s>
                                                        </a:s>
                                                    </a:s>
                                                    <a:s> + </a:s>
                                                    <a:s r="142">
                                                        <a:s>10 months</a:s>
                                                    </a:s>
                                                </a:s>
                                                <a:s>)</a:s>
                                            </a:s>
                                            <a:s> &lt; </a:s>
                                            <a:s r="144">
                                                <a:s>Today()</a:s>
                                            </a:s>
                                        </a:s>
                                    </a:s>
                                    <a:s>
                                    </a:s>
                                    <a:s r="159">
                                        <a:s>when </a:s>
                                        <a:s r="150">
                                            <a:s r="148">
                                                <a:s r="147">
                                                    <a:s>Result</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="148">
                                                    <a:s>effective</a:s>
                                                </a:s>
                                            </a:s>
                                            <a:s> is </a:s>
                                            <a:s r="149">
                                                <a:s>Period</a:s>
                                            </a:s>
                                        </a:s>
                                        <a:s>
                                            then </a:s>
                                        <a:s r="158">
                                            <a:s r="156">
                                                <a:s>(</a:s>
                                                <a:s r="156">
                                                    <a:s r="154">
                                                        <a:s>end of </a:s>
                                                        <a:s r="153">
                                                            <a:s>PeriodToInterval(</a:s>
                                                            <a:s r="152">
                                                                <a:s r="151">
                                                                    <a:s>Result</a:s>
                                                                </a:s>
                                                                <a:s>.</a:s>
                                                                <a:s r="152">
                                                                    <a:s>effective</a:s>
                                                                </a:s>
                                                            </a:s>
                                                            <a:s>)</a:s>
                                                        </a:s>
                                                    </a:s>
                                                    <a:s> + </a:s>
                                                    <a:s r="155">
                                                        <a:s>10 months</a:s>
                                                    </a:s>
                                                </a:s>
                                                <a:s>)</a:s>
                                            </a:s>
                                            <a:s> &lt; </a:s>
                                            <a:s r="157">
                                                <a:s>Today()</a:s>
                                            </a:s>
                                        </a:s>
                                    </a:s>
                                    <a:s>
                                        else false
                                        end</a:s>
                                </a:s>
                            </a:s>
                        </a:s>
                    </a:s>
                </a:s>
            </annotation>
            <expression localId="164" xsi:type="And">
                <operand localId="132" xsi:type="Not">
                    <operand localId="131" name="Needs Creatinine Test" xsi:type="ExpressionRef"/>
                </operand>
                <operand localId="163" xsi:type="Query">
                    <source localId="134" alias="Result">
                        <expression localId="133" name="Get Last Creatinine Lab Result" xsi:type="ExpressionRef"/>
                    </source>
                    <return localId="162">
                        <expression localId="161" xsi:type="Case">
                            <caseItem localId="146">
                                <when localId="138" xsi:type="Is">
                                    <operand localId="136" path="effective" scope="Result" xsi:type="Property"/>
                                    <isTypeSpecifier localId="137" name="fhir:dateTime" xsi:type="NamedTypeSpecifier"/>
                                </when>
                                <then localId="145" xsi:type="Less">
                                    <operand localId="143" xsi:type="Add">
                                        <operand localId="141" path="value" xsi:type="Property">
                                            <source localId="140" path="effective" scope="Result" xsi:type="Property"/>
                                        </operand>
                                        <operand localId="142" value="10" unit="months" xsi:type="Quantity"/>
                                    </operand>
                                    <operand localId="144" xsi:type="Today"/>
                                </then>
                            </caseItem>
                            <caseItem localId="159">
                                <when localId="150" xsi:type="Is">
                                    <operand localId="148" path="effective" scope="Result" xsi:type="Property"/>
                                    <isTypeSpecifier localId="149" name="fhir:Period" xsi:type="NamedTypeSpecifier"/>
                                </when>
                                <then localId="158" xsi:type="Less">
                                    <operand localId="156" xsi:type="Add">
                                        <operand localId="154" xsi:type="End">
                                            <operand localId="153" name="PeriodToInterval" xsi:type="FunctionRef">
                                                <operand asType="fhir:Period" xsi:type="As">
                                                    <operand localId="152" path="effective" scope="Result" xsi:type="Property"/>
                                                    <asTypeSpecifier name="fhir:Period" xsi:type="NamedTypeSpecifier"/>
                                                </operand>
                                            </operand>
                                        </operand>
                                        <operand localId="155" value="10" unit="months" xsi:type="Quantity"/>
                                    </operand>
                                    <operand localId="157" xsi:type="Today"/>
                                </then>
                            </caseItem>
                            <else localId="160" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                        </expression>
                    </return>
                </operand>
            </expression>
        </def>
        <def localId="167" name="AbnormalCreatinineSummary" context="Patient" accessLevel="Public">
            <annotation xsi:type="a:Annotation">
                <a:s r="167">
                    <a:s>define AbnormalCreatinineSummary:
                    </a:s>
                    <a:s r="166">
                        <a:s>'Abnormal Creatinine level detected in most recent lab results'</a:s>
                    </a:s>
                </a:s>
            </annotation>
            <expression localId="166" valueType="t:String" value="Abnormal Creatinine level detected in most recent lab results" xsi:type="Literal"/>
        </def>
        <def localId="174" name="AbnormalCreatinineDetail" context="Patient" accessLevel="Public">
            <annotation xsi:type="a:Annotation">
                <a:s r="174">
                    <a:s>define AbnormalCreatinineDetail:
                    </a:s>
                    <a:s r="173">
                        <a:s r="171">
                            <a:s r="168">
                                <a:s>'The Creatinine level of '</a:s>
                            </a:s>
                            <a:s> + </a:s>
                            <a:s r="170">
                                <a:s>ToString(</a:s>
                                <a:s r="169">
                                    <a:s>&quot;Get Creatinine Quantity&quot;</a:s>
                                </a:s>
                                <a:s>)</a:s>
                            </a:s>
                        </a:s>
                        <a:s> + </a:s>
                        <a:s r="172">
                            <a:s>' in the most recent lab is considered abnormal'</a:s>
                        </a:s>
                    </a:s>
                </a:s>
            </annotation>
            <expression localId="173" xsi:type="Concatenate">
                <operand localId="171" xsi:type="Concatenate">
                    <operand localId="168" valueType="t:String" value="The Creatinine level of " xsi:type="Literal"/>
                    <operand localId="170" xsi:type="ToString">
                        <operand localId="169" name="Get Creatinine Quantity" xsi:type="ExpressionRef"/>
                    </operand>
                </operand>
                <operand localId="172" valueType="t:String" value=" in the most recent lab is considered abnormal" xsi:type="Literal"/>
            </expression>
        </def>
        <def localId="176" name="AbnormalCreatinineIndicator" context="Patient" accessLevel="Public">
            <annotation xsi:type="a:Annotation">
                <a:s r="176">
                    <a:s>define AbnormalCreatinineIndicator:
                    </a:s>
                    <a:s r="175">
                        <a:s>'warning'</a:s>
                    </a:s>
                </a:s>
            </annotation>
            <expression localId="175" valueType="t:String" value="warning" xsi:type="Literal"/>
        </def>
        <def localId="179" name="Get Last HbA1C Lab Result" context="Patient" accessLevel="Public">
            <annotation xsi:type="a:Annotation">
                <a:s r="179">
                    <a:s>define &quot;Get Last HbA1C Lab Result&quot;:
                    </a:s>
                    <a:s r="178">
                        <a:s>Last( </a:s>
                        <a:s r="177">
                            <a:s>[Observation: code in </a:s>
                            <a:s>
                                <a:s>&quot;HbA1C Labs&quot;</a:s>
                            </a:s>
                            <a:s>]</a:s>
                        </a:s>
                        <a:s> )</a:s>
                    </a:s>
                </a:s>
            </annotation>
            <expression localId="178" xsi:type="Last">
                <source localId="177" dataType="fhir:Observation" codeProperty="code" xsi:type="Retrieve">
                    <codes name="HbA1C Labs" xsi:type="ValueSetRef"/>
                </source>
            </expression>
        </def>
        <def localId="189" name="Has Abnormal HbA1C" context="Patient" accessLevel="Public">
            <annotation xsi:type="a:Annotation">
                <a:s r="189">
                    <a:s>define &quot;Has Abnormal HbA1C&quot;:
                    </a:s>
                    <a:s r="188">
                        <a:s>
                            <a:s r="181">
                                <a:s r="180">
                                    <a:s>
                                        <a:s>&quot;Get Last HbA1C Lab Result&quot;</a:s>
                                    </a:s>
                                </a:s>
                                <a:s> Result</a:s>
                            </a:s>
                        </a:s>
                        <a:s>
                        </a:s>
                        <a:s r="187">
                            <a:s>return
                            </a:s>
                            <a:s r="186">
                                <a:s r="184">
                                    <a:s>ToConcept(</a:s>
                                    <a:s r="183">
                                        <a:s r="182">
                                            <a:s>Result</a:s>
                                        </a:s>
                                        <a:s>.</a:s>
                                        <a:s r="183">
                                            <a:s>interpretation</a:s>
                                        </a:s>
                                    </a:s>
                                    <a:s>)</a:s>
                                </a:s>
                                <a:s> in </a:s>
                                <a:s r="185">
                                    <a:s>&quot;Abnormal Interpretation Codes&quot;</a:s>
                                </a:s>
                            </a:s>
                        </a:s>
                    </a:s>
                </a:s>
            </annotation>
            <expression localId="188" xsi:type="Query">
                <source localId="181" alias="Result">
                    <expression localId="180" name="Get Last HbA1C Lab Result" xsi:type="ExpressionRef"/>
                </source>
                <return localId="187">
                    <expression localId="186" xsi:type="InValueSet">
                        <code localId="184" name="ToConcept" xsi:type="FunctionRef">
                            <operand localId="183" path="interpretation" scope="Result" xsi:type="Property"/>
                        </code>
                        <valueset localId="185" name="Abnormal Interpretation Codes"/>
                    </expression>
                </return>
            </expression>
        </def>
        <def localId="199" name="Get HbA1C Quantity" context="Patient" accessLevel="Public">
            <annotation xsi:type="a:Annotation">
                <a:s r="199">
                    <a:s>define &quot;Get HbA1C Quantity&quot;:
                    </a:s>
                    <a:s r="198">
                        <a:s>
                            <a:s r="191">
                                <a:s r="190">
                                    <a:s>
                                        <a:s>&quot;Get Last HbA1C Lab Result&quot;</a:s>
                                    </a:s>
                                </a:s>
                                <a:s> Result</a:s>
                            </a:s>
                        </a:s>
                        <a:s>
                        </a:s>
                        <a:s r="197">
                            <a:s>return </a:s>
                            <a:s r="196">
                                <a:s>ToQuantity(</a:s>
                                <a:s r="195">
                                    <a:s r="193">
                                        <a:s r="192">
                                            <a:s>Result</a:s>
                                        </a:s>
                                        <a:s>.</a:s>
                                        <a:s r="193">
                                            <a:s>value</a:s>
                                        </a:s>
                                    </a:s>
                                    <a:s> as </a:s>
                                    <a:s r="194">
                                        <a:s>Quantity</a:s>
                                    </a:s>
                                </a:s>
                                <a:s>)</a:s>
                            </a:s>
                        </a:s>
                    </a:s>
                </a:s>
            </annotation>
            <expression localId="198" xsi:type="Query">
                <source localId="191" alias="Result">
                    <expression localId="190" name="Get Last HbA1C Lab Result" xsi:type="ExpressionRef"/>
                </source>
                <return localId="197">
                    <expression localId="196" name="ToQuantity" xsi:type="FunctionRef">
                        <operand localId="195" strict="false" xsi:type="As">
                            <operand localId="193" path="value" scope="Result" xsi:type="Property"/>
                            <asTypeSpecifier localId="194" name="fhir:Quantity" xsi:type="NamedTypeSpecifier"/>
                        </operand>
                    </expression>
                </return>
            </expression>
        </def>
        <def localId="236" name="Needs HbA1C Test" context="Patient" accessLevel="Public">
            <annotation xsi:type="a:Annotation">
                <a:s r="236">
                    <a:s>define &quot;Needs HbA1C Test&quot;:
                    </a:s>
                    <a:s r="235">
                        <a:s>
                            <a:s r="201">
                                <a:s r="200">
                                    <a:s>
                                        <a:s>&quot;Get Last HbA1C Lab Result&quot;</a:s>
                                    </a:s>
                                </a:s>
                                <a:s> Result</a:s>
                            </a:s>
                        </a:s>
                        <a:s>
                        </a:s>
                        <a:s r="234">
                            <a:s>return
                            </a:s>
                            <a:s r="233">
                                <a:s>case
                                </a:s>
                                <a:s r="206">
                                    <a:s>when </a:s>
                                    <a:s r="204">
                                        <a:s r="203">
                                            <a:s r="202">
                                                <a:s>Result</a:s>
                                            </a:s>
                                            <a:s>.</a:s>
                                            <a:s r="203">
                                                <a:s>effective</a:s>
                                            </a:s>
                                        </a:s>
                                        <a:s> is null</a:s>
                                    </a:s>
                                    <a:s>
                                        then true</a:s>
                                </a:s>
                                <a:s>
                                </a:s>
                                <a:s r="218">
                                    <a:s>when </a:s>
                                    <a:s r="210">
                                        <a:s r="208">
                                            <a:s r="207">
                                                <a:s>Result</a:s>
                                            </a:s>
                                            <a:s>.</a:s>
                                            <a:s r="208">
                                                <a:s>effective</a:s>
                                            </a:s>
                                        </a:s>
                                        <a:s> is </a:s>
                                        <a:s r="209">
                                            <a:s>dateTime</a:s>
                                        </a:s>
                                    </a:s>
                                    <a:s>
                                        then </a:s>
                                    <a:s r="217">
                                        <a:s r="215">
                                            <a:s>(</a:s>
                                            <a:s r="215">
                                                <a:s r="213">
                                                    <a:s r="212">
                                                        <a:s r="211">
                                                            <a:s>Result</a:s>
                                                        </a:s>
                                                        <a:s>.</a:s>
                                                        <a:s r="212">
                                                            <a:s>effective</a:s>
                                                        </a:s>
                                                    </a:s>
                                                    <a:s>.</a:s>
                                                    <a:s r="213">
                                                        <a:s>value</a:s>
                                                    </a:s>
                                                </a:s>
                                                <a:s> + </a:s>
                                                <a:s r="214">
                                                    <a:s>6 months</a:s>
                                                </a:s>
                                            </a:s>
                                            <a:s>)</a:s>
                                        </a:s>
                                        <a:s> &lt; </a:s>
                                        <a:s r="216">
                                            <a:s>Today()</a:s>
                                        </a:s>
                                    </a:s>
                                </a:s>
                                <a:s>
                                </a:s>
                                <a:s r="231">
                                    <a:s>when </a:s>
                                    <a:s r="222">
                                        <a:s r="220">
                                            <a:s r="219">
                                                <a:s>Result</a:s>
                                            </a:s>
                                            <a:s>.</a:s>
                                            <a:s r="220">
                                                <a:s>effective</a:s>
                                            </a:s>
                                        </a:s>
                                        <a:s> is </a:s>
                                        <a:s r="221">
                                            <a:s>Period</a:s>
                                        </a:s>
                                    </a:s>
                                    <a:s>
                                        then </a:s>
                                    <a:s r="230">
                                        <a:s r="228">
                                            <a:s>(</a:s>
                                            <a:s r="228">
                                                <a:s r="226">
                                                    <a:s>end of </a:s>
                                                    <a:s r="225">
                                                        <a:s>PeriodToInterval(</a:s>
                                                        <a:s r="224">
                                                            <a:s r="223">
                                                                <a:s>Result</a:s>
                                                            </a:s>
                                                            <a:s>.</a:s>
                                                            <a:s r="224">
                                                                <a:s>effective</a:s>
                                                            </a:s>
                                                        </a:s>
                                                        <a:s>)</a:s>
                                                    </a:s>
                                                </a:s>
                                                <a:s> + </a:s>
                                                <a:s r="227">
                                                    <a:s>6 months</a:s>
                                                </a:s>
                                            </a:s>
                                            <a:s>)</a:s>
                                        </a:s>
                                        <a:s> &lt; </a:s>
                                        <a:s r="229">
                                            <a:s>Today()</a:s>
                                        </a:s>
                                    </a:s>
                                </a:s>
                                <a:s>
                                    else false
                                    end</a:s>
                            </a:s>
                        </a:s>
                    </a:s>
                </a:s>
            </annotation>
            <expression localId="235" xsi:type="Query">
                <source localId="201" alias="Result">
                    <expression localId="200" name="Get Last HbA1C Lab Result" xsi:type="ExpressionRef"/>
                </source>
                <return localId="234">
                    <expression localId="233" xsi:type="Case">
                        <caseItem localId="206">
                            <when localId="204" xsi:type="IsNull">
                                <operand localId="203" path="effective" scope="Result" xsi:type="Property"/>
                            </when>
                            <then localId="205" valueType="t:Boolean" value="true" xsi:type="Literal"/>
                        </caseItem>
                        <caseItem localId="218">
                            <when localId="210" xsi:type="Is">
                                <operand localId="208" path="effective" scope="Result" xsi:type="Property"/>
                                <isTypeSpecifier localId="209" name="fhir:dateTime" xsi:type="NamedTypeSpecifier"/>
                            </when>
                            <then localId="217" xsi:type="Less">
                                <operand localId="215" xsi:type="Add">
                                    <operand localId="213" path="value" xsi:type="Property">
                                        <source localId="212" path="effective" scope="Result" xsi:type="Property"/>
                                    </operand>
                                    <operand localId="214" value="6" unit="months" xsi:type="Quantity"/>
                                </operand>
                                <operand localId="216" xsi:type="Today"/>
                            </then>
                        </caseItem>
                        <caseItem localId="231">
                            <when localId="222" xsi:type="Is">
                                <operand localId="220" path="effective" scope="Result" xsi:type="Property"/>
                                <isTypeSpecifier localId="221" name="fhir:Period" xsi:type="NamedTypeSpecifier"/>
                            </when>
                            <then localId="230" xsi:type="Less">
                                <operand localId="228" xsi:type="Add">
                                    <operand localId="226" xsi:type="End">
                                        <operand localId="225" name="PeriodToInterval" xsi:type="FunctionRef">
                                            <operand asType="fhir:Period" xsi:type="As">
                                                <operand localId="224" path="effective" scope="Result" xsi:type="Property"/>
                                                <asTypeSpecifier name="fhir:Period" xsi:type="NamedTypeSpecifier"/>
                                            </operand>
                                        </operand>
                                    </operand>
                                    <operand localId="227" value="6" unit="months" xsi:type="Quantity"/>
                                </operand>
                                <operand localId="229" xsi:type="Today"/>
                            </then>
                        </caseItem>
                        <else localId="232" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                    </expression>
                </return>
            </expression>
        </def>
        <def localId="271" name="Should Consider Ordering HbA1C Test" context="Patient" accessLevel="Public">
            <annotation xsi:type="a:Annotation">
                <a:s r="271">
                    <a:s>define &quot;Should Consider Ordering HbA1C Test&quot;:
                    </a:s>
                    <a:s r="270">
                        <a:s r="238">
                            <a:s>not </a:s>
                            <a:s r="237">
                                <a:s>&quot;Needs HbA1C Test&quot;</a:s>
                            </a:s>
                        </a:s>
                        <a:s>
                            and
                        </a:s>
                        <a:s r="269">
                            <a:s>
                                <a:s r="240">
                                    <a:s r="239">
                                        <a:s>
                                            <a:s>&quot;Get Last HbA1C Lab Result&quot;</a:s>
                                        </a:s>
                                    </a:s>
                                    <a:s> Result</a:s>
                                </a:s>
                            </a:s>
                            <a:s>
                            </a:s>
                            <a:s r="268">
                                <a:s>return
                                </a:s>
                                <a:s r="267">
                                    <a:s>case
                                    </a:s>
                                    <a:s r="252">
                                        <a:s>when </a:s>
                                        <a:s r="244">
                                            <a:s r="242">
                                                <a:s r="241">
                                                    <a:s>Result</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="242">
                                                    <a:s>effective</a:s>
                                                </a:s>
                                            </a:s>
                                            <a:s> is </a:s>
                                            <a:s r="243">
                                                <a:s>dateTime</a:s>
                                            </a:s>
                                        </a:s>
                                        <a:s>
                                            then </a:s>
                                        <a:s r="251">
                                            <a:s r="249">
                                                <a:s>(</a:s>
                                                <a:s r="249">
                                                    <a:s r="247">
                                                        <a:s r="246">
                                                            <a:s r="245">
                                                                <a:s>Result</a:s>
                                                            </a:s>
                                                            <a:s>.</a:s>
                                                            <a:s r="246">
                                                                <a:s>effective</a:s>
                                                            </a:s>
                                                        </a:s>
                                                        <a:s>.</a:s>
                                                        <a:s r="247">
                                                            <a:s>value</a:s>
                                                        </a:s>
                                                    </a:s>
                                                    <a:s> + </a:s>
                                                    <a:s r="248">
                                                        <a:s>5 months</a:s>
                                                    </a:s>
                                                </a:s>
                                                <a:s>)</a:s>
                                            </a:s>
                                            <a:s> &lt; </a:s>
                                            <a:s r="250">
                                                <a:s>Today()</a:s>
                                            </a:s>
                                        </a:s>
                                    </a:s>
                                    <a:s>
                                    </a:s>
                                    <a:s r="265">
                                        <a:s>when </a:s>
                                        <a:s r="256">
                                            <a:s r="254">
                                                <a:s r="253">
                                                    <a:s>Result</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="254">
                                                    <a:s>effective</a:s>
                                                </a:s>
                                            </a:s>
                                            <a:s> is </a:s>
                                            <a:s r="255">
                                                <a:s>Period</a:s>
                                            </a:s>
                                        </a:s>
                                        <a:s>
                                            then </a:s>
                                        <a:s r="264">
                                            <a:s r="262">
                                                <a:s>(</a:s>
                                                <a:s r="262">
                                                    <a:s r="260">
                                                        <a:s>end of </a:s>
                                                        <a:s r="259">
                                                            <a:s>PeriodToInterval(</a:s>
                                                            <a:s r="258">
                                                                <a:s r="257">
                                                                    <a:s>Result</a:s>
                                                                </a:s>
                                                                <a:s>.</a:s>
                                                                <a:s r="258">
                                                                    <a:s>effective</a:s>
                                                                </a:s>
                                                            </a:s>
                                                            <a:s>)</a:s>
                                                        </a:s>
                                                    </a:s>
                                                    <a:s> + </a:s>
                                                    <a:s r="261">
                                                        <a:s>5 months</a:s>
                                                    </a:s>
                                                </a:s>
                                                <a:s>)</a:s>
                                            </a:s>
                                            <a:s> &lt; </a:s>
                                            <a:s r="263">
                                                <a:s>Today()</a:s>
                                            </a:s>
                                        </a:s>
                                    </a:s>
                                    <a:s>
                                        else false
                                        end</a:s>
                                </a:s>
                            </a:s>
                        </a:s>
                    </a:s>
                </a:s>
            </annotation>
            <expression localId="270" xsi:type="And">
                <operand localId="238" xsi:type="Not">
                    <operand localId="237" name="Needs HbA1C Test" xsi:type="ExpressionRef"/>
                </operand>
                <operand localId="269" xsi:type="Query">
                    <source localId="240" alias="Result">
                        <expression localId="239" name="Get Last HbA1C Lab Result" xsi:type="ExpressionRef"/>
                    </source>
                    <return localId="268">
                        <expression localId="267" xsi:type="Case">
                            <caseItem localId="252">
                                <when localId="244" xsi:type="Is">
                                    <operand localId="242" path="effective" scope="Result" xsi:type="Property"/>
                                    <isTypeSpecifier localId="243" name="fhir:dateTime" xsi:type="NamedTypeSpecifier"/>
                                </when>
                                <then localId="251" xsi:type="Less">
                                    <operand localId="249" xsi:type="Add">
                                        <operand localId="247" path="value" xsi:type="Property">
                                            <source localId="246" path="effective" scope="Result" xsi:type="Property"/>
                                        </operand>
                                        <operand localId="248" value="5" unit="months" xsi:type="Quantity"/>
                                    </operand>
                                    <operand localId="250" xsi:type="Today"/>
                                </then>
                            </caseItem>
                            <caseItem localId="265">
                                <when localId="256" xsi:type="Is">
                                    <operand localId="254" path="effective" scope="Result" xsi:type="Property"/>
                                    <isTypeSpecifier localId="255" name="fhir:Period" xsi:type="NamedTypeSpecifier"/>
                                </when>
                                <then localId="264" xsi:type="Less">
                                    <operand localId="262" xsi:type="Add">
                                        <operand localId="260" xsi:type="End">
                                            <operand localId="259" name="PeriodToInterval" xsi:type="FunctionRef">
                                                <operand asType="fhir:Period" xsi:type="As">
                                                    <operand localId="258" path="effective" scope="Result" xsi:type="Property"/>
                                                    <asTypeSpecifier name="fhir:Period" xsi:type="NamedTypeSpecifier"/>
                                                </operand>
                                            </operand>
                                        </operand>
                                        <operand localId="261" value="5" unit="months" xsi:type="Quantity"/>
                                    </operand>
                                    <operand localId="263" xsi:type="Today"/>
                                </then>
                            </caseItem>
                            <else localId="266" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                        </expression>
                    </return>
                </operand>
            </expression>
        </def>
        <def localId="273" name="AbnormalHbA1CSummary" context="Patient" accessLevel="Public">
            <annotation xsi:type="a:Annotation">
                <a:s r="273">
                    <a:s>define AbnormalHbA1CSummary:
                    </a:s>
                    <a:s r="272">
                        <a:s>'Abnormal HbA1C level detected in most recent lab results'</a:s>
                    </a:s>
                </a:s>
            </annotation>
            <expression localId="272" valueType="t:String" value="Abnormal HbA1C level detected in most recent lab results" xsi:type="Literal"/>
        </def>
        <def localId="280" name="AbnormalHbA1CDetail" context="Patient" accessLevel="Public">
            <annotation xsi:type="a:Annotation">
                <a:s r="280">
                    <a:s>define AbnormalHbA1CDetail:
                    </a:s>
                    <a:s r="279">
                        <a:s r="277">
                            <a:s r="274">
                                <a:s>'The HbA1C level of '</a:s>
                            </a:s>
                            <a:s> + </a:s>
                            <a:s r="276">
                                <a:s>ToString(</a:s>
                                <a:s r="275">
                                    <a:s>&quot;Get HbA1C Quantity&quot;</a:s>
                                </a:s>
                                <a:s>)</a:s>
                            </a:s>
                        </a:s>
                        <a:s> + </a:s>
                        <a:s r="278">
                            <a:s>' in the most recent lab is considered abnormal'</a:s>
                        </a:s>
                    </a:s>
                </a:s>
            </annotation>
            <expression localId="279" xsi:type="Concatenate">
                <operand localId="277" xsi:type="Concatenate">
                    <operand localId="274" valueType="t:String" value="The HbA1C level of " xsi:type="Literal"/>
                    <operand localId="276" xsi:type="ToString">
                        <operand localId="275" name="Get HbA1C Quantity" xsi:type="ExpressionRef"/>
                    </operand>
                </operand>
                <operand localId="278" valueType="t:String" value=" in the most recent lab is considered abnormal" xsi:type="Literal"/>
            </expression>
        </def>
        <def localId="282" name="AbnormalHbA1CIndicator" context="Patient" accessLevel="Public">
            <annotation xsi:type="a:Annotation">
                <a:s r="282">
                    <a:s>define AbnormalHbA1CIndicator:
                    </a:s>
                    <a:s r="281">
                        <a:s>'warning'</a:s>
                    </a:s>
                </a:s>
            </annotation>
            <expression localId="281" valueType="t:String" value="warning" xsi:type="Literal"/>
        </def>
        <def localId="285" name="Get Last LDL Lab Result" context="Patient" accessLevel="Public">
            <annotation xsi:type="a:Annotation">
                <a:s r="285">
                    <a:s>define &quot;Get Last LDL Lab Result&quot;:
                    </a:s>
                    <a:s r="284">
                        <a:s>Last( </a:s>
                        <a:s r="283">
                            <a:s>[Observation: code in </a:s>
                            <a:s>
                                <a:s>&quot;LDL Labs&quot;</a:s>
                            </a:s>
                            <a:s>]</a:s>
                        </a:s>
                        <a:s> )</a:s>
                    </a:s>
                </a:s>
            </annotation>
            <expression localId="284" xsi:type="Last">
                <source localId="283" dataType="fhir:Observation" codeProperty="code" xsi:type="Retrieve">
                    <codes name="LDL Labs" xsi:type="ValueSetRef"/>
                </source>
            </expression>
        </def>
        <def localId="295" name="Has Abnormal LDL" context="Patient" accessLevel="Public">
            <annotation xsi:type="a:Annotation">
                <a:s r="295">
                    <a:s>define &quot;Has Abnormal LDL&quot;:
                    </a:s>
                    <a:s r="294">
                        <a:s>
                            <a:s r="287">
                                <a:s r="286">
                                    <a:s>
                                        <a:s>&quot;Get Last LDL Lab Result&quot;</a:s>
                                    </a:s>
                                </a:s>
                                <a:s> Result</a:s>
                            </a:s>
                        </a:s>
                        <a:s>
                        </a:s>
                        <a:s r="293">
                            <a:s>return
                            </a:s>
                            <a:s r="292">
                                <a:s r="290">
                                    <a:s>ToConcept(</a:s>
                                    <a:s r="289">
                                        <a:s r="288">
                                            <a:s>Result</a:s>
                                        </a:s>
                                        <a:s>.</a:s>
                                        <a:s r="289">
                                            <a:s>interpretation</a:s>
                                        </a:s>
                                    </a:s>
                                    <a:s>)</a:s>
                                </a:s>
                                <a:s> in </a:s>
                                <a:s r="291">
                                    <a:s>&quot;Abnormal Interpretation Codes&quot;</a:s>
                                </a:s>
                            </a:s>
                        </a:s>
                    </a:s>
                </a:s>
            </annotation>
            <expression localId="294" xsi:type="Query">
                <source localId="287" alias="Result">
                    <expression localId="286" name="Get Last LDL Lab Result" xsi:type="ExpressionRef"/>
                </source>
                <return localId="293">
                    <expression localId="292" xsi:type="InValueSet">
                        <code localId="290" name="ToConcept" xsi:type="FunctionRef">
                            <operand localId="289" path="interpretation" scope="Result" xsi:type="Property"/>
                        </code>
                        <valueset localId="291" name="Abnormal Interpretation Codes"/>
                    </expression>
                </return>
            </expression>
        </def>
        <def localId="305" name="Get LDL Quantity" context="Patient" accessLevel="Public">
            <annotation xsi:type="a:Annotation">
                <a:s r="305">
                    <a:s>define &quot;Get LDL Quantity&quot;:
                    </a:s>
                    <a:s r="304">
                        <a:s>
                            <a:s r="297">
                                <a:s r="296">
                                    <a:s>
                                        <a:s>&quot;Get Last LDL Lab Result&quot;</a:s>
                                    </a:s>
                                </a:s>
                                <a:s> Result</a:s>
                            </a:s>
                        </a:s>
                        <a:s>
                        </a:s>
                        <a:s r="303">
                            <a:s>return </a:s>
                            <a:s r="302">
                                <a:s>ToQuantity(</a:s>
                                <a:s r="301">
                                    <a:s r="299">
                                        <a:s r="298">
                                            <a:s>Result</a:s>
                                        </a:s>
                                        <a:s>.</a:s>
                                        <a:s r="299">
                                            <a:s>value</a:s>
                                        </a:s>
                                    </a:s>
                                    <a:s> as </a:s>
                                    <a:s r="300">
                                        <a:s>Quantity</a:s>
                                    </a:s>
                                </a:s>
                                <a:s>)</a:s>
                            </a:s>
                        </a:s>
                    </a:s>
                </a:s>
            </annotation>
            <expression localId="304" xsi:type="Query">
                <source localId="297" alias="Result">
                    <expression localId="296" name="Get Last LDL Lab Result" xsi:type="ExpressionRef"/>
                </source>
                <return localId="303">
                    <expression localId="302" name="ToQuantity" xsi:type="FunctionRef">
                        <operand localId="301" strict="false" xsi:type="As">
                            <operand localId="299" path="value" scope="Result" xsi:type="Property"/>
                            <asTypeSpecifier localId="300" name="fhir:Quantity" xsi:type="NamedTypeSpecifier"/>
                        </operand>
                    </expression>
                </return>
            </expression>
        </def>
        <def localId="342" name="Needs LDL Test" context="Patient" accessLevel="Public">
            <annotation xsi:type="a:Annotation">
                <a:s r="342">
                    <a:s>define &quot;Needs LDL Test&quot;:
                    </a:s>
                    <a:s r="341">
                        <a:s>
                            <a:s r="307">
                                <a:s r="306">
                                    <a:s>
                                        <a:s>&quot;Get Last LDL Lab Result&quot;</a:s>
                                    </a:s>
                                </a:s>
                                <a:s> Result</a:s>
                            </a:s>
                        </a:s>
                        <a:s>
                        </a:s>
                        <a:s r="340">
                            <a:s>return
                            </a:s>
                            <a:s r="339">
                                <a:s>case
                                </a:s>
                                <a:s r="312">
                                    <a:s>when </a:s>
                                    <a:s r="310">
                                        <a:s r="309">
                                            <a:s r="308">
                                                <a:s>Result</a:s>
                                            </a:s>
                                            <a:s>.</a:s>
                                            <a:s r="309">
                                                <a:s>effective</a:s>
                                            </a:s>
                                        </a:s>
                                        <a:s> is null</a:s>
                                    </a:s>
                                    <a:s>
                                        then true</a:s>
                                </a:s>
                                <a:s>
                                </a:s>
                                <a:s r="324">
                                    <a:s>when </a:s>
                                    <a:s r="316">
                                        <a:s r="314">
                                            <a:s r="313">
                                                <a:s>Result</a:s>
                                            </a:s>
                                            <a:s>.</a:s>
                                            <a:s r="314">
                                                <a:s>effective</a:s>
                                            </a:s>
                                        </a:s>
                                        <a:s> is </a:s>
                                        <a:s r="315">
                                            <a:s>dateTime</a:s>
                                        </a:s>
                                    </a:s>
                                    <a:s>
                                        then </a:s>
                                    <a:s r="323">
                                        <a:s r="321">
                                            <a:s>(</a:s>
                                            <a:s r="321">
                                                <a:s r="319">
                                                    <a:s r="318">
                                                        <a:s r="317">
                                                            <a:s>Result</a:s>
                                                        </a:s>
                                                        <a:s>.</a:s>
                                                        <a:s r="318">
                                                            <a:s>effective</a:s>
                                                        </a:s>
                                                    </a:s>
                                                    <a:s>.</a:s>
                                                    <a:s r="319">
                                                        <a:s>value</a:s>
                                                    </a:s>
                                                </a:s>
                                                <a:s> + </a:s>
                                                <a:s r="320">
                                                    <a:s>1 year</a:s>
                                                </a:s>
                                            </a:s>
                                            <a:s>)</a:s>
                                        </a:s>
                                        <a:s> &lt; </a:s>
                                        <a:s r="322">
                                            <a:s>Today()</a:s>
                                        </a:s>
                                    </a:s>
                                </a:s>
                                <a:s>
                                </a:s>
                                <a:s r="337">
                                    <a:s>when </a:s>
                                    <a:s r="328">
                                        <a:s r="326">
                                            <a:s r="325">
                                                <a:s>Result</a:s>
                                            </a:s>
                                            <a:s>.</a:s>
                                            <a:s r="326">
                                                <a:s>effective</a:s>
                                            </a:s>
                                        </a:s>
                                        <a:s> is </a:s>
                                        <a:s r="327">
                                            <a:s>Period</a:s>
                                        </a:s>
                                    </a:s>
                                    <a:s>
                                        then </a:s>
                                    <a:s r="336">
                                        <a:s r="334">
                                            <a:s>(</a:s>
                                            <a:s r="334">
                                                <a:s r="332">
                                                    <a:s>end of </a:s>
                                                    <a:s r="331">
                                                        <a:s>PeriodToInterval(</a:s>
                                                        <a:s r="330">
                                                            <a:s r="329">
                                                                <a:s>Result</a:s>
                                                            </a:s>
                                                            <a:s>.</a:s>
                                                            <a:s r="330">
                                                                <a:s>effective</a:s>
                                                            </a:s>
                                                        </a:s>
                                                        <a:s>)</a:s>
                                                    </a:s>
                                                </a:s>
                                                <a:s> + </a:s>
                                                <a:s r="333">
                                                    <a:s>1 year</a:s>
                                                </a:s>
                                            </a:s>
                                            <a:s>)</a:s>
                                        </a:s>
                                        <a:s> &lt; </a:s>
                                        <a:s r="335">
                                            <a:s>Today()</a:s>
                                        </a:s>
                                    </a:s>
                                </a:s>
                                <a:s>
                                    else false
                                    end</a:s>
                            </a:s>
                        </a:s>
                    </a:s>
                </a:s>
            </annotation>
            <expression localId="341" xsi:type="Query">
                <source localId="307" alias="Result">
                    <expression localId="306" name="Get Last LDL Lab Result" xsi:type="ExpressionRef"/>
                </source>
                <return localId="340">
                    <expression localId="339" xsi:type="Case">
                        <caseItem localId="312">
                            <when localId="310" xsi:type="IsNull">
                                <operand localId="309" path="effective" scope="Result" xsi:type="Property"/>
                            </when>
                            <then localId="311" valueType="t:Boolean" value="true" xsi:type="Literal"/>
                        </caseItem>
                        <caseItem localId="324">
                            <when localId="316" xsi:type="Is">
                                <operand localId="314" path="effective" scope="Result" xsi:type="Property"/>
                                <isTypeSpecifier localId="315" name="fhir:dateTime" xsi:type="NamedTypeSpecifier"/>
                            </when>
                            <then localId="323" xsi:type="Less">
                                <operand localId="321" xsi:type="Add">
                                    <operand localId="319" path="value" xsi:type="Property">
                                        <source localId="318" path="effective" scope="Result" xsi:type="Property"/>
                                    </operand>
                                    <operand localId="320" value="1" unit="year" xsi:type="Quantity"/>
                                </operand>
                                <operand localId="322" xsi:type="Today"/>
                            </then>
                        </caseItem>
                        <caseItem localId="337">
                            <when localId="328" xsi:type="Is">
                                <operand localId="326" path="effective" scope="Result" xsi:type="Property"/>
                                <isTypeSpecifier localId="327" name="fhir:Period" xsi:type="NamedTypeSpecifier"/>
                            </when>
                            <then localId="336" xsi:type="Less">
                                <operand localId="334" xsi:type="Add">
                                    <operand localId="332" xsi:type="End">
                                        <operand localId="331" name="PeriodToInterval" xsi:type="FunctionRef">
                                            <operand asType="fhir:Period" xsi:type="As">
                                                <operand localId="330" path="effective" scope="Result" xsi:type="Property"/>
                                                <asTypeSpecifier name="fhir:Period" xsi:type="NamedTypeSpecifier"/>
                                            </operand>
                                        </operand>
                                    </operand>
                                    <operand localId="333" value="1" unit="year" xsi:type="Quantity"/>
                                </operand>
                                <operand localId="335" xsi:type="Today"/>
                            </then>
                        </caseItem>
                        <else localId="338" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                    </expression>
                </return>
            </expression>
        </def>
        <def localId="377" name="Should Consider Ordering LDL Test" context="Patient" accessLevel="Public">
            <annotation xsi:type="a:Annotation">
                <a:s r="377">
                    <a:s>define &quot;Should Consider Ordering LDL Test&quot;:
                    </a:s>
                    <a:s r="376">
                        <a:s r="344">
                            <a:s>not </a:s>
                            <a:s r="343">
                                <a:s>&quot;Needs LDL Test&quot;</a:s>
                            </a:s>
                        </a:s>
                        <a:s>
                            and
                        </a:s>
                        <a:s r="375">
                            <a:s>
                                <a:s r="346">
                                    <a:s r="345">
                                        <a:s>
                                            <a:s>&quot;Get Last LDL Lab Result&quot;</a:s>
                                        </a:s>
                                    </a:s>
                                    <a:s> Result</a:s>
                                </a:s>
                            </a:s>
                            <a:s>
                            </a:s>
                            <a:s r="374">
                                <a:s>return
                                </a:s>
                                <a:s r="373">
                                    <a:s>case
                                    </a:s>
                                    <a:s r="358">
                                        <a:s>when </a:s>
                                        <a:s r="350">
                                            <a:s r="348">
                                                <a:s r="347">
                                                    <a:s>Result</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="348">
                                                    <a:s>effective</a:s>
                                                </a:s>
                                            </a:s>
                                            <a:s> is </a:s>
                                            <a:s r="349">
                                                <a:s>dateTime</a:s>
                                            </a:s>
                                        </a:s>
                                        <a:s>
                                            then </a:s>
                                        <a:s r="357">
                                            <a:s r="355">
                                                <a:s>(</a:s>
                                                <a:s r="355">
                                                    <a:s r="353">
                                                        <a:s r="352">
                                                            <a:s r="351">
                                                                <a:s>Result</a:s>
                                                            </a:s>
                                                            <a:s>.</a:s>
                                                            <a:s r="352">
                                                                <a:s>effective</a:s>
                                                            </a:s>
                                                        </a:s>
                                                        <a:s>.</a:s>
                                                        <a:s r="353">
                                                            <a:s>value</a:s>
                                                        </a:s>
                                                    </a:s>
                                                    <a:s> + </a:s>
                                                    <a:s r="354">
                                                        <a:s>10 months</a:s>
                                                    </a:s>
                                                </a:s>
                                                <a:s>)</a:s>
                                            </a:s>
                                            <a:s> &lt; </a:s>
                                            <a:s r="356">
                                                <a:s>Today()</a:s>
                                            </a:s>
                                        </a:s>
                                    </a:s>
                                    <a:s>
                                    </a:s>
                                    <a:s r="371">
                                        <a:s>when </a:s>
                                        <a:s r="362">
                                            <a:s r="360">
                                                <a:s r="359">
                                                    <a:s>Result</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="360">
                                                    <a:s>effective</a:s>
                                                </a:s>
                                            </a:s>
                                            <a:s> is </a:s>
                                            <a:s r="361">
                                                <a:s>Period</a:s>
                                            </a:s>
                                        </a:s>
                                        <a:s>
                                            then </a:s>
                                        <a:s r="370">
                                            <a:s r="368">
                                                <a:s>(</a:s>
                                                <a:s r="368">
                                                    <a:s r="366">
                                                        <a:s>end of </a:s>
                                                        <a:s r="365">
                                                            <a:s>PeriodToInterval(</a:s>
                                                            <a:s r="364">
                                                                <a:s r="363">
                                                                    <a:s>Result</a:s>
                                                                </a:s>
                                                                <a:s>.</a:s>
                                                                <a:s r="364">
                                                                    <a:s>effective</a:s>
                                                                </a:s>
                                                            </a:s>
                                                            <a:s>)</a:s>
                                                        </a:s>
                                                    </a:s>
                                                    <a:s> + </a:s>
                                                    <a:s r="367">
                                                        <a:s>10 months</a:s>
                                                    </a:s>
                                                </a:s>
                                                <a:s>)</a:s>
                                            </a:s>
                                            <a:s> &lt; </a:s>
                                            <a:s r="369">
                                                <a:s>Today()</a:s>
                                            </a:s>
                                        </a:s>
                                    </a:s>
                                    <a:s>
                                        else false
                                        end</a:s>
                                </a:s>
                            </a:s>
                        </a:s>
                    </a:s>
                </a:s>
            </annotation>
            <expression localId="376" xsi:type="And">
                <operand localId="344" xsi:type="Not">
                    <operand localId="343" name="Needs LDL Test" xsi:type="ExpressionRef"/>
                </operand>
                <operand localId="375" xsi:type="Query">
                    <source localId="346" alias="Result">
                        <expression localId="345" name="Get Last LDL Lab Result" xsi:type="ExpressionRef"/>
                    </source>
                    <return localId="374">
                        <expression localId="373" xsi:type="Case">
                            <caseItem localId="358">
                                <when localId="350" xsi:type="Is">
                                    <operand localId="348" path="effective" scope="Result" xsi:type="Property"/>
                                    <isTypeSpecifier localId="349" name="fhir:dateTime" xsi:type="NamedTypeSpecifier"/>
                                </when>
                                <then localId="357" xsi:type="Less">
                                    <operand localId="355" xsi:type="Add">
                                        <operand localId="353" path="value" xsi:type="Property">
                                            <source localId="352" path="effective" scope="Result" xsi:type="Property"/>
                                        </operand>
                                        <operand localId="354" value="10" unit="months" xsi:type="Quantity"/>
                                    </operand>
                                    <operand localId="356" xsi:type="Today"/>
                                </then>
                            </caseItem>
                            <caseItem localId="371">
                                <when localId="362" xsi:type="Is">
                                    <operand localId="360" path="effective" scope="Result" xsi:type="Property"/>
                                    <isTypeSpecifier localId="361" name="fhir:Period" xsi:type="NamedTypeSpecifier"/>
                                </when>
                                <then localId="370" xsi:type="Less">
                                    <operand localId="368" xsi:type="Add">
                                        <operand localId="366" xsi:type="End">
                                            <operand localId="365" name="PeriodToInterval" xsi:type="FunctionRef">
                                                <operand asType="fhir:Period" xsi:type="As">
                                                    <operand localId="364" path="effective" scope="Result" xsi:type="Property"/>
                                                    <asTypeSpecifier name="fhir:Period" xsi:type="NamedTypeSpecifier"/>
                                                </operand>
                                            </operand>
                                        </operand>
                                        <operand localId="367" value="10" unit="months" xsi:type="Quantity"/>
                                    </operand>
                                    <operand localId="369" xsi:type="Today"/>
                                </then>
                            </caseItem>
                            <else localId="372" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                        </expression>
                    </return>
                </operand>
            </expression>
        </def>
        <def localId="379" name="AbnormalLDLSummary" context="Patient" accessLevel="Public">
            <annotation xsi:type="a:Annotation">
                <a:s r="379">
                    <a:s>define AbnormalLDLSummary:
                    </a:s>
                    <a:s r="378">
                        <a:s>'Abnormal LDL cholesterol level detected in most recent lab results'</a:s>
                    </a:s>
                </a:s>
            </annotation>
            <expression localId="378" valueType="t:String" value="Abnormal LDL cholesterol level detected in most recent lab results" xsi:type="Literal"/>
        </def>
        <def localId="386" name="AbnormalLDLDetail" context="Patient" accessLevel="Public">
            <annotation xsi:type="a:Annotation">
                <a:s r="386">
                    <a:s>define AbnormalLDLDetail:
                    </a:s>
                    <a:s r="385">
                        <a:s r="383">
                            <a:s r="380">
                                <a:s>'The LDL cholesterol level of '</a:s>
                            </a:s>
                            <a:s> + </a:s>
                            <a:s r="382">
                                <a:s>ToString(</a:s>
                                <a:s r="381">
                                    <a:s>&quot;Get LDL Quantity&quot;</a:s>
                                </a:s>
                                <a:s>)</a:s>
                            </a:s>
                        </a:s>
                        <a:s> + </a:s>
                        <a:s r="384">
                            <a:s>' in the most recent lab is considered abnormal'</a:s>
                        </a:s>
                    </a:s>
                </a:s>
            </annotation>
            <expression localId="385" xsi:type="Concatenate">
                <operand localId="383" xsi:type="Concatenate">
                    <operand localId="380" valueType="t:String" value="The LDL cholesterol level of " xsi:type="Literal"/>
                    <operand localId="382" xsi:type="ToString">
                        <operand localId="381" name="Get LDL Quantity" xsi:type="ExpressionRef"/>
                    </operand>
                </operand>
                <operand localId="384" valueType="t:String" value=" in the most recent lab is considered abnormal" xsi:type="Literal"/>
            </expression>
        </def>
        <def localId="388" name="AbnormalLDLIndicator" context="Patient" accessLevel="Public">
            <annotation xsi:type="a:Annotation">
                <a:s r="388">
                    <a:s>define AbnormalLDLIndicator:
                    </a:s>
                    <a:s r="387">
                        <a:s>'warning'</a:s>
                    </a:s>
                </a:s>
            </annotation>
            <expression localId="387" valueType="t:String" value="warning" xsi:type="Literal"/>
        </def>
        <def localId="391" name="Get Last MicroalbCr Lab Result" context="Patient" accessLevel="Public">
            <annotation xsi:type="a:Annotation">
                <a:s r="391">
                    <a:s>define &quot;Get Last MicroalbCr Lab Result&quot;:
                    </a:s>
                    <a:s r="390">
                        <a:s>Last( </a:s>
                        <a:s r="389">
                            <a:s>[Observation: code in </a:s>
                            <a:s>
                                <a:s>&quot;MicroalbCr Labs&quot;</a:s>
                            </a:s>
                            <a:s>]</a:s>
                        </a:s>
                        <a:s> )</a:s>
                    </a:s>
                </a:s>
            </annotation>
            <expression localId="390" xsi:type="Last">
                <source localId="389" dataType="fhir:Observation" codeProperty="code" xsi:type="Retrieve">
                    <codes name="MicroalbCr Labs" xsi:type="ValueSetRef"/>
                </source>
            </expression>
        </def>
        <def localId="401" name="On ACE or ARB Medication" context="Patient" accessLevel="Public">
            <annotation xsi:type="a:Annotation">
                <a:s r="401">
                    <a:s>define &quot;On ACE or ARB Medication&quot;:
                    </a:s>
                    <a:s r="400">
                        <a:s>exists</a:s>
                        <a:s r="399">
                            <a:s>(
                            </a:s>
                            <a:s r="399">
                                <a:s>
                                    <a:s r="393">
                                        <a:s r="392">
                                            <a:s r="392">
                                                <a:s>[Medication: </a:s>
                                                <a:s>
                                                    <a:s>&quot;ACE or ARB Medication&quot;</a:s>
                                                </a:s>
                                                <a:s>]</a:s>
                                            </a:s>
                                        </a:s>
                                        <a:s> Meds</a:s>
                                    </a:s>
                                </a:s>
                                <a:s>
                                </a:s>
                                <a:s r="398">
                                    <a:s>where </a:s>
                                    <a:s r="398">
                                        <a:s r="396">
                                            <a:s r="395">
                                                <a:s r="394">
                                                    <a:s>Meds</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="395">
                                                    <a:s>status</a:s>
                                                </a:s>
                                            </a:s>
                                            <a:s>.</a:s>
                                            <a:s r="396">
                                                <a:s>value</a:s>
                                            </a:s>
                                        </a:s>
                                        <a:s> = </a:s>
                                        <a:s r="397">
                                            <a:s>'active'</a:s>
                                        </a:s>
                                    </a:s>
                                </a:s>
                            </a:s>
                            <a:s>
                                )</a:s>
                        </a:s>
                    </a:s>
                </a:s>
            </annotation>
            <expression localId="400" xsi:type="Exists">
                <operand localId="399" xsi:type="Query">
                    <source localId="393" alias="Meds">
                        <expression localId="392" dataType="fhir:Medication" codeProperty="code" xsi:type="Retrieve">
                            <codes name="ACE or ARB Medication" xsi:type="ValueSetRef"/>
                        </expression>
                    </source>
                    <where localId="398" xsi:type="Equal">
                        <operand localId="396" path="value" xsi:type="Property">
                            <source localId="395" path="status" scope="Meds" xsi:type="Property"/>
                        </operand>
                        <operand localId="397" valueType="t:String" value="active" xsi:type="Literal"/>
                    </where>
                </operand>
            </expression>
        </def>
        <def localId="411" name="Has Abnormal MicroalbCr" context="Patient" accessLevel="Public">
            <annotation xsi:type="a:Annotation">
                <a:s r="411">
                    <a:s>define &quot;Has Abnormal MicroalbCr&quot;:
                    </a:s>
                    <a:s r="410">
                        <a:s>
                            <a:s r="403">
                                <a:s r="402">
                                    <a:s>
                                        <a:s>&quot;Get Last MicroalbCr Lab Result&quot;</a:s>
                                    </a:s>
                                </a:s>
                                <a:s> Result</a:s>
                            </a:s>
                        </a:s>
                        <a:s>
                        </a:s>
                        <a:s r="409">
                            <a:s>return
                            </a:s>
                            <a:s r="408">
                                <a:s r="406">
                                    <a:s>ToConcept(</a:s>
                                    <a:s r="405">
                                        <a:s r="404">
                                            <a:s>Result</a:s>
                                        </a:s>
                                        <a:s>.</a:s>
                                        <a:s r="405">
                                            <a:s>interpretation</a:s>
                                        </a:s>
                                    </a:s>
                                    <a:s>)</a:s>
                                </a:s>
                                <a:s> in </a:s>
                                <a:s r="407">
                                    <a:s>&quot;Abnormal Interpretation Codes&quot;</a:s>
                                </a:s>
                            </a:s>
                        </a:s>
                    </a:s>
                </a:s>
            </annotation>
            <expression localId="410" xsi:type="Query">
                <source localId="403" alias="Result">
                    <expression localId="402" name="Get Last MicroalbCr Lab Result" xsi:type="ExpressionRef"/>
                </source>
                <return localId="409">
                    <expression localId="408" xsi:type="InValueSet">
                        <code localId="406" name="ToConcept" xsi:type="FunctionRef">
                            <operand localId="405" path="interpretation" scope="Result" xsi:type="Property"/>
                        </code>
                        <valueset localId="407" name="Abnormal Interpretation Codes"/>
                    </expression>
                </return>
            </expression>
        </def>
        <def localId="421" name="Get MicroalbCr Quantity" context="Patient" accessLevel="Public">
            <annotation xsi:type="a:Annotation">
                <a:s r="421">
                    <a:s>define &quot;Get MicroalbCr Quantity&quot;:
                    </a:s>
                    <a:s r="420">
                        <a:s>
                            <a:s r="413">
                                <a:s r="412">
                                    <a:s>
                                        <a:s>&quot;Get Last MicroalbCr Lab Result&quot;</a:s>
                                    </a:s>
                                </a:s>
                                <a:s> Result</a:s>
                            </a:s>
                        </a:s>
                        <a:s>
                        </a:s>
                        <a:s r="419">
                            <a:s>return </a:s>
                            <a:s r="418">
                                <a:s>ToQuantity(</a:s>
                                <a:s r="417">
                                    <a:s r="415">
                                        <a:s r="414">
                                            <a:s>Result</a:s>
                                        </a:s>
                                        <a:s>.</a:s>
                                        <a:s r="415">
                                            <a:s>value</a:s>
                                        </a:s>
                                    </a:s>
                                    <a:s> as </a:s>
                                    <a:s r="416">
                                        <a:s>Quantity</a:s>
                                    </a:s>
                                </a:s>
                                <a:s>)</a:s>
                            </a:s>
                        </a:s>
                    </a:s>
                </a:s>
            </annotation>
            <expression localId="420" xsi:type="Query">
                <source localId="413" alias="Result">
                    <expression localId="412" name="Get Last MicroalbCr Lab Result" xsi:type="ExpressionRef"/>
                </source>
                <return localId="419">
                    <expression localId="418" name="ToQuantity" xsi:type="FunctionRef">
                        <operand localId="417" strict="false" xsi:type="As">
                            <operand localId="415" path="value" scope="Result" xsi:type="Property"/>
                            <asTypeSpecifier localId="416" name="fhir:Quantity" xsi:type="NamedTypeSpecifier"/>
                        </operand>
                    </expression>
                </return>
            </expression>
        </def>
        <def localId="462" name="Needs MicroalbCr Test" context="Patient" accessLevel="Public">
            <annotation xsi:type="a:Annotation">
                <a:s r="462">
                    <a:s>define &quot;Needs MicroalbCr Test&quot;:
                    </a:s>
                    <a:s r="461">
                        <a:s>
                            <a:s r="423">
                                <a:s r="422">
                                    <a:s>
                                        <a:s>&quot;Get Last MicroalbCr Lab Result&quot;</a:s>
                                    </a:s>
                                </a:s>
                                <a:s> Result</a:s>
                            </a:s>
                        </a:s>
                        <a:s>
                        </a:s>
                        <a:s r="460">
                            <a:s>return
                            </a:s>
                            <a:s r="459">
                                <a:s>if </a:s>
                                <a:s r="425">
                                    <a:s>not </a:s>
                                    <a:s r="424">
                                        <a:s>&quot;On ACE or ARB Medication&quot;</a:s>
                                    </a:s>
                                </a:s>
                                <a:s>
                                    then
                                </a:s>
                                <a:s r="457">
                                    <a:s>case
                                    </a:s>
                                    <a:s r="430">
                                        <a:s>when </a:s>
                                        <a:s r="428">
                                            <a:s r="427">
                                                <a:s r="426">
                                                    <a:s>Result</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="427">
                                                    <a:s>effective</a:s>
                                                </a:s>
                                            </a:s>
                                            <a:s> is null</a:s>
                                        </a:s>
                                        <a:s>
                                            then true</a:s>
                                    </a:s>
                                    <a:s>
                                    </a:s>
                                    <a:s r="442">
                                        <a:s>when </a:s>
                                        <a:s r="434">
                                            <a:s r="432">
                                                <a:s r="431">
                                                    <a:s>Result</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="432">
                                                    <a:s>effective</a:s>
                                                </a:s>
                                            </a:s>
                                            <a:s> is </a:s>
                                            <a:s r="433">
                                                <a:s>dateTime</a:s>
                                            </a:s>
                                        </a:s>
                                        <a:s>
                                            then </a:s>
                                        <a:s r="441">
                                            <a:s r="439">
                                                <a:s>(</a:s>
                                                <a:s r="439">
                                                    <a:s r="437">
                                                        <a:s r="436">
                                                            <a:s r="435">
                                                                <a:s>Result</a:s>
                                                            </a:s>
                                                            <a:s>.</a:s>
                                                            <a:s r="436">
                                                                <a:s>effective</a:s>
                                                            </a:s>
                                                        </a:s>
                                                        <a:s>.</a:s>
                                                        <a:s r="437">
                                                            <a:s>value</a:s>
                                                        </a:s>
                                                    </a:s>
                                                    <a:s> + </a:s>
                                                    <a:s r="438">
                                                        <a:s>1 year</a:s>
                                                    </a:s>
                                                </a:s>
                                                <a:s>)</a:s>
                                            </a:s>
                                            <a:s> &lt; </a:s>
                                            <a:s r="440">
                                                <a:s>Today()</a:s>
                                            </a:s>
                                        </a:s>
                                    </a:s>
                                    <a:s>
                                    </a:s>
                                    <a:s r="455">
                                        <a:s>when </a:s>
                                        <a:s r="446">
                                            <a:s r="444">
                                                <a:s r="443">
                                                    <a:s>Result</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="444">
                                                    <a:s>effective</a:s>
                                                </a:s>
                                            </a:s>
                                            <a:s> is </a:s>
                                            <a:s r="445">
                                                <a:s>Period</a:s>
                                            </a:s>
                                        </a:s>
                                        <a:s>
                                            then </a:s>
                                        <a:s r="454">
                                            <a:s r="452">
                                                <a:s>(</a:s>
                                                <a:s r="452">
                                                    <a:s r="450">
                                                        <a:s>end of </a:s>
                                                        <a:s r="449">
                                                            <a:s>PeriodToInterval(</a:s>
                                                            <a:s r="448">
                                                                <a:s r="447">
                                                                    <a:s>Result</a:s>
                                                                </a:s>
                                                                <a:s>.</a:s>
                                                                <a:s r="448">
                                                                    <a:s>effective</a:s>
                                                                </a:s>
                                                            </a:s>
                                                            <a:s>)</a:s>
                                                        </a:s>
                                                    </a:s>
                                                    <a:s> + </a:s>
                                                    <a:s r="451">
                                                        <a:s>1 year</a:s>
                                                    </a:s>
                                                </a:s>
                                                <a:s>)</a:s>
                                            </a:s>
                                            <a:s> &lt; </a:s>
                                            <a:s r="453">
                                                <a:s>Today()</a:s>
                                            </a:s>
                                        </a:s>
                                    </a:s>
                                    <a:s>
                                        else false
                                        end</a:s>
                                </a:s>
                                <a:s>
                                    else false</a:s>
                            </a:s>
                        </a:s>
                    </a:s>
                </a:s>
            </annotation>
            <expression localId="461" xsi:type="Query">
                <source localId="423" alias="Result">
                    <expression localId="422" name="Get Last MicroalbCr Lab Result" xsi:type="ExpressionRef"/>
                </source>
                <return localId="460">
                    <expression localId="459" xsi:type="If">
                        <condition asType="t:Boolean" xsi:type="As">
                            <operand localId="425" xsi:type="Not">
                                <operand localId="424" name="On ACE or ARB Medication" xsi:type="ExpressionRef"/>
                            </operand>
                            <asTypeSpecifier name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                        </condition>
                        <then localId="457" xsi:type="Case">
                            <caseItem localId="430">
                                <when localId="428" xsi:type="IsNull">
                                    <operand localId="427" path="effective" scope="Result" xsi:type="Property"/>
                                </when>
                                <then localId="429" valueType="t:Boolean" value="true" xsi:type="Literal"/>
                            </caseItem>
                            <caseItem localId="442">
                                <when localId="434" xsi:type="Is">
                                    <operand localId="432" path="effective" scope="Result" xsi:type="Property"/>
                                    <isTypeSpecifier localId="433" name="fhir:dateTime" xsi:type="NamedTypeSpecifier"/>
                                </when>
                                <then localId="441" xsi:type="Less">
                                    <operand localId="439" xsi:type="Add">
                                        <operand localId="437" path="value" xsi:type="Property">
                                            <source localId="436" path="effective" scope="Result" xsi:type="Property"/>
                                        </operand>
                                        <operand localId="438" value="1" unit="year" xsi:type="Quantity"/>
                                    </operand>
                                    <operand localId="440" xsi:type="Today"/>
                                </then>
                            </caseItem>
                            <caseItem localId="455">
                                <when localId="446" xsi:type="Is">
                                    <operand localId="444" path="effective" scope="Result" xsi:type="Property"/>
                                    <isTypeSpecifier localId="445" name="fhir:Period" xsi:type="NamedTypeSpecifier"/>
                                </when>
                                <then localId="454" xsi:type="Less">
                                    <operand localId="452" xsi:type="Add">
                                        <operand localId="450" xsi:type="End">
                                            <operand localId="449" name="PeriodToInterval" xsi:type="FunctionRef">
                                                <operand asType="fhir:Period" xsi:type="As">
                                                    <operand localId="448" path="effective" scope="Result" xsi:type="Property"/>
                                                    <asTypeSpecifier name="fhir:Period" xsi:type="NamedTypeSpecifier"/>
                                                </operand>
                                            </operand>
                                        </operand>
                                        <operand localId="451" value="1" unit="year" xsi:type="Quantity"/>
                                    </operand>
                                    <operand localId="453" xsi:type="Today"/>
                                </then>
                            </caseItem>
                            <else localId="456" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                        </then>
                        <else localId="458" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                    </expression>
                </return>
            </expression>
        </def>
        <def localId="500" name="Should Consider Ordering MicroalbCr Test" context="Patient" accessLevel="Public">
            <annotation xsi:type="a:Annotation">
                <a:s r="500">
                    <a:s>define &quot;Should Consider Ordering MicroalbCr Test&quot;:
                    </a:s>
                    <a:s r="499">
                        <a:s r="467">
                            <a:s r="464">
                                <a:s>not </a:s>
                                <a:s r="463">
                                    <a:s>&quot;Needs MicroalbCr Test&quot;</a:s>
                                </a:s>
                            </a:s>
                            <a:s>
                                and </a:s>
                            <a:s r="466">
                                <a:s>not </a:s>
                                <a:s r="465">
                                    <a:s>&quot;On ACE or ARB Medication&quot;</a:s>
                                </a:s>
                            </a:s>
                        </a:s>
                        <a:s>
                            and </a:s>
                        <a:s r="498">
                            <a:s>(
                            </a:s>
                            <a:s r="498">
                                <a:s>
                                    <a:s r="469">
                                        <a:s r="468">
                                            <a:s>
                                                <a:s>&quot;Get Last MicroalbCr Lab Result&quot;</a:s>
                                            </a:s>
                                        </a:s>
                                        <a:s> Result</a:s>
                                    </a:s>
                                </a:s>
                                <a:s>
                                </a:s>
                                <a:s r="497">
                                    <a:s>return
                                    </a:s>
                                    <a:s r="496">
                                        <a:s>case
                                        </a:s>
                                        <a:s r="481">
                                            <a:s>when </a:s>
                                            <a:s r="473">
                                                <a:s r="471">
                                                    <a:s r="470">
                                                        <a:s>Result</a:s>
                                                    </a:s>
                                                    <a:s>.</a:s>
                                                    <a:s r="471">
                                                        <a:s>effective</a:s>
                                                    </a:s>
                                                </a:s>
                                                <a:s> is </a:s>
                                                <a:s r="472">
                                                    <a:s>dateTime</a:s>
                                                </a:s>
                                            </a:s>
                                            <a:s>
                                                then </a:s>
                                            <a:s r="480">
                                                <a:s r="478">
                                                    <a:s>(</a:s>
                                                    <a:s r="478">
                                                        <a:s r="476">
                                                            <a:s r="475">
                                                                <a:s r="474">
                                                                    <a:s>Result</a:s>
                                                                </a:s>
                                                                <a:s>.</a:s>
                                                                <a:s r="475">
                                                                    <a:s>effective</a:s>
                                                                </a:s>
                                                            </a:s>
                                                            <a:s>.</a:s>
                                                            <a:s r="476">
                                                                <a:s>value</a:s>
                                                            </a:s>
                                                        </a:s>
                                                        <a:s> + </a:s>
                                                        <a:s r="477">
                                                            <a:s>10 months</a:s>
                                                        </a:s>
                                                    </a:s>
                                                    <a:s>)</a:s>
                                                </a:s>
                                                <a:s> &lt; </a:s>
                                                <a:s r="479">
                                                    <a:s>Today()</a:s>
                                                </a:s>
                                            </a:s>
                                        </a:s>
                                        <a:s>
                                        </a:s>
                                        <a:s r="494">
                                            <a:s>when </a:s>
                                            <a:s r="485">
                                                <a:s r="483">
                                                    <a:s r="482">
                                                        <a:s>Result</a:s>
                                                    </a:s>
                                                    <a:s>.</a:s>
                                                    <a:s r="483">
                                                        <a:s>effective</a:s>
                                                    </a:s>
                                                </a:s>
                                                <a:s> is </a:s>
                                                <a:s r="484">
                                                    <a:s>Period</a:s>
                                                </a:s>
                                            </a:s>
                                            <a:s>
                                                then </a:s>
                                            <a:s r="493">
                                                <a:s r="491">
                                                    <a:s>(</a:s>
                                                    <a:s r="491">
                                                        <a:s r="489">
                                                            <a:s>end of </a:s>
                                                            <a:s r="488">
                                                                <a:s>PeriodToInterval(</a:s>
                                                                <a:s r="487">
                                                                    <a:s r="486">
                                                                        <a:s>Result</a:s>
                                                                    </a:s>
                                                                    <a:s>.</a:s>
                                                                    <a:s r="487">
                                                                        <a:s>effective</a:s>
                                                                    </a:s>
                                                                </a:s>
                                                                <a:s>)</a:s>
                                                            </a:s>
                                                        </a:s>
                                                        <a:s> + </a:s>
                                                        <a:s r="490">
                                                            <a:s>10 months</a:s>
                                                        </a:s>
                                                    </a:s>
                                                    <a:s>)</a:s>
                                                </a:s>
                                                <a:s> &lt; </a:s>
                                                <a:s r="492">
                                                    <a:s>Today()</a:s>
                                                </a:s>
                                            </a:s>
                                        </a:s>
                                        <a:s>
                                            else false
                                            end</a:s>
                                    </a:s>
                                </a:s>
                            </a:s>
                            <a:s>
                                )</a:s>
                        </a:s>
                    </a:s>
                </a:s>
            </annotation>
            <expression localId="499" xsi:type="And">
                <operand localId="467" xsi:type="And">
                    <operand localId="464" xsi:type="Not">
                        <operand localId="463" name="Needs MicroalbCr Test" xsi:type="ExpressionRef"/>
                    </operand>
                    <operand localId="466" xsi:type="Not">
                        <operand localId="465" name="On ACE or ARB Medication" xsi:type="ExpressionRef"/>
                    </operand>
                </operand>
                <operand localId="498" xsi:type="Query">
                    <source localId="469" alias="Result">
                        <expression localId="468" name="Get Last MicroalbCr Lab Result" xsi:type="ExpressionRef"/>
                    </source>
                    <return localId="497">
                        <expression localId="496" xsi:type="Case">
                            <caseItem localId="481">
                                <when localId="473" xsi:type="Is">
                                    <operand localId="471" path="effective" scope="Result" xsi:type="Property"/>
                                    <isTypeSpecifier localId="472" name="fhir:dateTime" xsi:type="NamedTypeSpecifier"/>
                                </when>
                                <then localId="480" xsi:type="Less">
                                    <operand localId="478" xsi:type="Add">
                                        <operand localId="476" path="value" xsi:type="Property">
                                            <source localId="475" path="effective" scope="Result" xsi:type="Property"/>
                                        </operand>
                                        <operand localId="477" value="10" unit="months" xsi:type="Quantity"/>
                                    </operand>
                                    <operand localId="479" xsi:type="Today"/>
                                </then>
                            </caseItem>
                            <caseItem localId="494">
                                <when localId="485" xsi:type="Is">
                                    <operand localId="483" path="effective" scope="Result" xsi:type="Property"/>
                                    <isTypeSpecifier localId="484" name="fhir:Period" xsi:type="NamedTypeSpecifier"/>
                                </when>
                                <then localId="493" xsi:type="Less">
                                    <operand localId="491" xsi:type="Add">
                                        <operand localId="489" xsi:type="End">
                                            <operand localId="488" name="PeriodToInterval" xsi:type="FunctionRef">
                                                <operand asType="fhir:Period" xsi:type="As">
                                                    <operand localId="487" path="effective" scope="Result" xsi:type="Property"/>
                                                    <asTypeSpecifier name="fhir:Period" xsi:type="NamedTypeSpecifier"/>
                                                </operand>
                                            </operand>
                                        </operand>
                                        <operand localId="490" value="10" unit="months" xsi:type="Quantity"/>
                                    </operand>
                                    <operand localId="492" xsi:type="Today"/>
                                </then>
                            </caseItem>
                            <else localId="495" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                        </expression>
                    </return>
                </operand>
            </expression>
        </def>
        <def localId="502" name="AbnormalMicroalbCrSummary" context="Patient" accessLevel="Public">
            <annotation xsi:type="a:Annotation">
                <a:s r="502">
                    <a:s>define AbnormalMicroalbCrSummary:
                    </a:s>
                    <a:s r="501">
                        <a:s>'Abnormal Microalbumin/Creatinine ratio detected in most recent lab results'</a:s>
                    </a:s>
                </a:s>
            </annotation>
            <expression localId="501" valueType="t:String" value="Abnormal Microalbumin/Creatinine ratio detected in most recent lab results" xsi:type="Literal"/>
        </def>
        <def localId="509" name="AbnormalMicroalbCrDetail" context="Patient" accessLevel="Public">
            <annotation xsi:type="a:Annotation">
                <a:s r="509">
                    <a:s>define AbnormalMicroalbCrDetail:
                    </a:s>
                    <a:s r="508">
                        <a:s r="506">
                            <a:s r="503">
                                <a:s>'The Microalbumin/Creatinine ratio of '</a:s>
                            </a:s>
                            <a:s> + </a:s>
                            <a:s r="505">
                                <a:s>ToString(</a:s>
                                <a:s r="504">
                                    <a:s>&quot;Get MicroalbCr Quantity&quot;</a:s>
                                </a:s>
                                <a:s>)</a:s>
                            </a:s>
                        </a:s>
                        <a:s> + </a:s>
                        <a:s r="507">
                            <a:s>' in the most recent lab is considered abnormal'</a:s>
                        </a:s>
                    </a:s>
                </a:s>
            </annotation>
            <expression localId="508" xsi:type="Concatenate">
                <operand localId="506" xsi:type="Concatenate">
                    <operand localId="503" valueType="t:String" value="The Microalbumin/Creatinine ratio of " xsi:type="Literal"/>
                    <operand localId="505" xsi:type="ToString">
                        <operand localId="504" name="Get MicroalbCr Quantity" xsi:type="ExpressionRef"/>
                    </operand>
                </operand>
                <operand localId="507" valueType="t:String" value=" in the most recent lab is considered abnormal" xsi:type="Literal"/>
            </expression>
        </def>
        <def localId="511" name="AbnormalMicroalbCrIndicator" context="Patient" accessLevel="Public">
            <annotation xsi:type="a:Annotation">
                <a:s r="511">
                    <a:s>define AbnormalMicroalbCrIndicator:
                    </a:s>
                    <a:s r="510">
                        <a:s>'warning'</a:s>
                    </a:s>
                </a:s>
            </annotation>
            <expression localId="510" valueType="t:String" value="warning" xsi:type="Literal"/>
        </def>
        <def localId="514" name="Get Last Foot Exam Result" context="Patient" accessLevel="Public">
            <annotation xsi:type="a:Annotation">
                <a:s r="514">
                    <a:s>define &quot;Get Last Foot Exam Result&quot;:
                    </a:s>
                    <a:s r="513">
                        <a:s>Last( </a:s>
                        <a:s r="512">
                            <a:s>[Observation: code in </a:s>
                            <a:s>
                                <a:s>&quot;Foot Exam Labs&quot;</a:s>
                            </a:s>
                            <a:s>]</a:s>
                        </a:s>
                        <a:s> )</a:s>
                    </a:s>
                </a:s>
            </annotation>
            <expression localId="513" xsi:type="Last">
                <source localId="512" dataType="fhir:Observation" codeProperty="code" xsi:type="Retrieve">
                    <codes name="Foot Exam Labs" xsi:type="ValueSetRef"/>
                </source>
            </expression>
        </def>
        <def localId="524" name="Has Abnormal Foot Exam" context="Patient" accessLevel="Public">
            <annotation xsi:type="a:Annotation">
                <a:s r="524">
                    <a:s>define &quot;Has Abnormal Foot Exam&quot;:
                    </a:s>
                    <a:s r="523">
                        <a:s>
                            <a:s r="516">
                                <a:s r="515">
                                    <a:s>
                                        <a:s>&quot;Get Last Foot Exam Result&quot;</a:s>
                                    </a:s>
                                </a:s>
                                <a:s> Result</a:s>
                            </a:s>
                        </a:s>
                        <a:s>
                        </a:s>
                        <a:s r="522">
                            <a:s>return
                            </a:s>
                            <a:s r="521">
                                <a:s r="519">
                                    <a:s>ToConcept(</a:s>
                                    <a:s r="518">
                                        <a:s r="517">
                                            <a:s>Result</a:s>
                                        </a:s>
                                        <a:s>.</a:s>
                                        <a:s r="518">
                                            <a:s>interpretation</a:s>
                                        </a:s>
                                    </a:s>
                                    <a:s>)</a:s>
                                </a:s>
                                <a:s> in </a:s>
                                <a:s r="520">
                                    <a:s>&quot;Abnormal Interpretation Codes&quot;</a:s>
                                </a:s>
                            </a:s>
                        </a:s>
                    </a:s>
                </a:s>
            </annotation>
            <expression localId="523" xsi:type="Query">
                <source localId="516" alias="Result">
                    <expression localId="515" name="Get Last Foot Exam Result" xsi:type="ExpressionRef"/>
                </source>
                <return localId="522">
                    <expression localId="521" xsi:type="InValueSet">
                        <code localId="519" name="ToConcept" xsi:type="FunctionRef">
                            <operand localId="518" path="interpretation" scope="Result" xsi:type="Property"/>
                        </code>
                        <valueset localId="520" name="Abnormal Interpretation Codes"/>
                    </expression>
                </return>
            </expression>
        </def>
        <def localId="541" name="Get Foot Exam Result" context="Patient" accessLevel="Public">
            <annotation xsi:type="a:Annotation">
                <a:s r="541">
                    <a:s>define &quot;Get Foot Exam Result&quot;:
                    </a:s>
                    <a:s r="540">
                        <a:s>
                            <a:s r="526">
                                <a:s r="525">
                                    <a:s>
                                        <a:s>&quot;Get Last Foot Exam Result&quot;</a:s>
                                    </a:s>
                                </a:s>
                                <a:s> Result</a:s>
                            </a:s>
                        </a:s>
                        <a:s>
                        </a:s>
                        <a:s r="539">
                            <a:s>return
                            </a:s>
                            <a:s r="538">
                                <a:s>if </a:s>
                                <a:s r="530">
                                    <a:s r="528">
                                        <a:s r="527">
                                            <a:s>Result</a:s>
                                        </a:s>
                                        <a:s>.</a:s>
                                        <a:s r="528">
                                            <a:s>value</a:s>
                                        </a:s>
                                    </a:s>
                                    <a:s> is </a:s>
                                    <a:s r="529">
                                        <a:s>CodeableConcept</a:s>
                                    </a:s>
                                </a:s>
                                <a:s>
                                    then </a:s>
                                <a:s r="536">
                                    <a:s r="535">
                                        <a:s r="533">
                                            <a:s r="532">
                                                <a:s r="531">
                                                    <a:s>Result</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="532">
                                                    <a:s>value</a:s>
                                                </a:s>
                                            </a:s>
                                            <a:s>.</a:s>
                                            <a:s r="533">
                                                <a:s>coding</a:s>
                                            </a:s>
                                        </a:s>
                                        <a:s>[0]</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="536">
                                        <a:s>display</a:s>
                                    </a:s>
                                </a:s>
                                <a:s>
                                    else null</a:s>
                            </a:s>
                        </a:s>
                    </a:s>
                </a:s>
            </annotation>
            <expression localId="540" xsi:type="Query">
                <source localId="526" alias="Result">
                    <expression localId="525" name="Get Last Foot Exam Result" xsi:type="ExpressionRef"/>
                </source>
                <return localId="539">
                    <expression localId="538" xsi:type="If">
                        <condition asType="t:Boolean" xsi:type="As">
                            <operand localId="530" xsi:type="Is">
                                <operand localId="528" path="value" scope="Result" xsi:type="Property"/>
                                <isTypeSpecifier localId="529" name="fhir:CodeableConcept" xsi:type="NamedTypeSpecifier"/>
                            </operand>
                            <asTypeSpecifier name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                        </condition>
                        <then localId="536" path="display" xsi:type="Property">
                            <source localId="535" xsi:type="Indexer">
                                <operand localId="533" path="coding" xsi:type="Property">
                                    <source localId="532" path="value" scope="Result" xsi:type="Property"/>
                                </operand>
                                <operand localId="534" valueType="t:Integer" value="0" xsi:type="Literal"/>
                            </source>
                        </then>
                        <else asType="fhir:string" xsi:type="As">
                            <operand localId="537" xsi:type="Null"/>
                            <asTypeSpecifier name="fhir:string" xsi:type="NamedTypeSpecifier"/>
                        </else>
                    </expression>
                </return>
            </expression>
        </def>
        <def localId="578" name="Needs Foot Exam Test" context="Patient" accessLevel="Public">
            <annotation xsi:type="a:Annotation">
                <a:s r="578">
                    <a:s>define &quot;Needs Foot Exam Test&quot;:
                    </a:s>
                    <a:s r="577">
                        <a:s>
                            <a:s r="543">
                                <a:s r="542">
                                    <a:s>
                                        <a:s>&quot;Get Last Foot Exam Result&quot;</a:s>
                                    </a:s>
                                </a:s>
                                <a:s> Result</a:s>
                            </a:s>
                        </a:s>
                        <a:s>
                        </a:s>
                        <a:s r="576">
                            <a:s>return
                            </a:s>
                            <a:s r="575">
                                <a:s>case
                                </a:s>
                                <a:s r="548">
                                    <a:s>when </a:s>
                                    <a:s r="546">
                                        <a:s r="545">
                                            <a:s r="544">
                                                <a:s>Result</a:s>
                                            </a:s>
                                            <a:s>.</a:s>
                                            <a:s r="545">
                                                <a:s>effective</a:s>
                                            </a:s>
                                        </a:s>
                                        <a:s> is null</a:s>
                                    </a:s>
                                    <a:s>
                                        then true</a:s>
                                </a:s>
                                <a:s>
                                </a:s>
                                <a:s r="560">
                                    <a:s>when </a:s>
                                    <a:s r="552">
                                        <a:s r="550">
                                            <a:s r="549">
                                                <a:s>Result</a:s>
                                            </a:s>
                                            <a:s>.</a:s>
                                            <a:s r="550">
                                                <a:s>effective</a:s>
                                            </a:s>
                                        </a:s>
                                        <a:s> is </a:s>
                                        <a:s r="551">
                                            <a:s>dateTime</a:s>
                                        </a:s>
                                    </a:s>
                                    <a:s>
                                        then </a:s>
                                    <a:s r="559">
                                        <a:s r="557">
                                            <a:s>(</a:s>
                                            <a:s r="557">
                                                <a:s r="555">
                                                    <a:s r="554">
                                                        <a:s r="553">
                                                            <a:s>Result</a:s>
                                                        </a:s>
                                                        <a:s>.</a:s>
                                                        <a:s r="554">
                                                            <a:s>effective</a:s>
                                                        </a:s>
                                                    </a:s>
                                                    <a:s>.</a:s>
                                                    <a:s r="555">
                                                        <a:s>value</a:s>
                                                    </a:s>
                                                </a:s>
                                                <a:s> + </a:s>
                                                <a:s r="556">
                                                    <a:s>1 year</a:s>
                                                </a:s>
                                            </a:s>
                                            <a:s>)</a:s>
                                        </a:s>
                                        <a:s> &lt; </a:s>
                                        <a:s r="558">
                                            <a:s>Today()</a:s>
                                        </a:s>
                                    </a:s>
                                </a:s>
                                <a:s>
                                </a:s>
                                <a:s r="573">
                                    <a:s>when </a:s>
                                    <a:s r="564">
                                        <a:s r="562">
                                            <a:s r="561">
                                                <a:s>Result</a:s>
                                            </a:s>
                                            <a:s>.</a:s>
                                            <a:s r="562">
                                                <a:s>effective</a:s>
                                            </a:s>
                                        </a:s>
                                        <a:s> is </a:s>
                                        <a:s r="563">
                                            <a:s>Period</a:s>
                                        </a:s>
                                    </a:s>
                                    <a:s>
                                        then </a:s>
                                    <a:s r="572">
                                        <a:s r="570">
                                            <a:s>(</a:s>
                                            <a:s r="570">
                                                <a:s r="568">
                                                    <a:s>end of </a:s>
                                                    <a:s r="567">
                                                        <a:s>PeriodToInterval(</a:s>
                                                        <a:s r="566">
                                                            <a:s r="565">
                                                                <a:s>Result</a:s>
                                                            </a:s>
                                                            <a:s>.</a:s>
                                                            <a:s r="566">
                                                                <a:s>effective</a:s>
                                                            </a:s>
                                                        </a:s>
                                                        <a:s>)</a:s>
                                                    </a:s>
                                                </a:s>
                                                <a:s> + </a:s>
                                                <a:s r="569">
                                                    <a:s>1 year</a:s>
                                                </a:s>
                                            </a:s>
                                            <a:s>)</a:s>
                                        </a:s>
                                        <a:s> &lt; </a:s>
                                        <a:s r="571">
                                            <a:s>Today()</a:s>
                                        </a:s>
                                    </a:s>
                                </a:s>
                                <a:s>
                                    else false
                                    end</a:s>
                            </a:s>
                        </a:s>
                    </a:s>
                </a:s>
            </annotation>
            <expression localId="577" xsi:type="Query">
                <source localId="543" alias="Result">
                    <expression localId="542" name="Get Last Foot Exam Result" xsi:type="ExpressionRef"/>
                </source>
                <return localId="576">
                    <expression localId="575" xsi:type="Case">
                        <caseItem localId="548">
                            <when localId="546" xsi:type="IsNull">
                                <operand localId="545" path="effective" scope="Result" xsi:type="Property"/>
                            </when>
                            <then localId="547" valueType="t:Boolean" value="true" xsi:type="Literal"/>
                        </caseItem>
                        <caseItem localId="560">
                            <when localId="552" xsi:type="Is">
                                <operand localId="550" path="effective" scope="Result" xsi:type="Property"/>
                                <isTypeSpecifier localId="551" name="fhir:dateTime" xsi:type="NamedTypeSpecifier"/>
                            </when>
                            <then localId="559" xsi:type="Less">
                                <operand localId="557" xsi:type="Add">
                                    <operand localId="555" path="value" xsi:type="Property">
                                        <source localId="554" path="effective" scope="Result" xsi:type="Property"/>
                                    </operand>
                                    <operand localId="556" value="1" unit="year" xsi:type="Quantity"/>
                                </operand>
                                <operand localId="558" xsi:type="Today"/>
                            </then>
                        </caseItem>
                        <caseItem localId="573">
                            <when localId="564" xsi:type="Is">
                                <operand localId="562" path="effective" scope="Result" xsi:type="Property"/>
                                <isTypeSpecifier localId="563" name="fhir:Period" xsi:type="NamedTypeSpecifier"/>
                            </when>
                            <then localId="572" xsi:type="Less">
                                <operand localId="570" xsi:type="Add">
                                    <operand localId="568" xsi:type="End">
                                        <operand localId="567" name="PeriodToInterval" xsi:type="FunctionRef">
                                            <operand asType="fhir:Period" xsi:type="As">
                                                <operand localId="566" path="effective" scope="Result" xsi:type="Property"/>
                                                <asTypeSpecifier name="fhir:Period" xsi:type="NamedTypeSpecifier"/>
                                            </operand>
                                        </operand>
                                    </operand>
                                    <operand localId="569" value="1" unit="year" xsi:type="Quantity"/>
                                </operand>
                                <operand localId="571" xsi:type="Today"/>
                            </then>
                        </caseItem>
                        <else localId="574" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                    </expression>
                </return>
            </expression>
        </def>
        <def localId="613" name="Should Consider Ordering Foot Exam Test" context="Patient" accessLevel="Public">
            <annotation xsi:type="a:Annotation">
                <a:s r="613">
                    <a:s>define &quot;Should Consider Ordering Foot Exam Test&quot;:
                    </a:s>
                    <a:s r="612">
                        <a:s r="580">
                            <a:s>not </a:s>
                            <a:s r="579">
                                <a:s>&quot;Needs Foot Exam Test&quot;</a:s>
                            </a:s>
                        </a:s>
                        <a:s>
                            and
                        </a:s>
                        <a:s r="611">
                            <a:s>
                                <a:s r="582">
                                    <a:s r="581">
                                        <a:s>
                                            <a:s>&quot;Get Last Foot Exam Result&quot;</a:s>
                                        </a:s>
                                    </a:s>
                                    <a:s> Result</a:s>
                                </a:s>
                            </a:s>
                            <a:s>
                            </a:s>
                            <a:s r="610">
                                <a:s>return
                                </a:s>
                                <a:s r="609">
                                    <a:s>case
                                    </a:s>
                                    <a:s r="594">
                                        <a:s>when </a:s>
                                        <a:s r="586">
                                            <a:s r="584">
                                                <a:s r="583">
                                                    <a:s>Result</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="584">
                                                    <a:s>effective</a:s>
                                                </a:s>
                                            </a:s>
                                            <a:s> is </a:s>
                                            <a:s r="585">
                                                <a:s>dateTime</a:s>
                                            </a:s>
                                        </a:s>
                                        <a:s>
                                            then </a:s>
                                        <a:s r="593">
                                            <a:s r="591">
                                                <a:s>(</a:s>
                                                <a:s r="591">
                                                    <a:s r="589">
                                                        <a:s r="588">
                                                            <a:s r="587">
                                                                <a:s>Result</a:s>
                                                            </a:s>
                                                            <a:s>.</a:s>
                                                            <a:s r="588">
                                                                <a:s>effective</a:s>
                                                            </a:s>
                                                        </a:s>
                                                        <a:s>.</a:s>
                                                        <a:s r="589">
                                                            <a:s>value</a:s>
                                                        </a:s>
                                                    </a:s>
                                                    <a:s> + </a:s>
                                                    <a:s r="590">
                                                        <a:s>10 months</a:s>
                                                    </a:s>
                                                </a:s>
                                                <a:s>)</a:s>
                                            </a:s>
                                            <a:s> &lt; </a:s>
                                            <a:s r="592">
                                                <a:s>Today()</a:s>
                                            </a:s>
                                        </a:s>
                                    </a:s>
                                    <a:s>
                                    </a:s>
                                    <a:s r="607">
                                        <a:s>when </a:s>
                                        <a:s r="598">
                                            <a:s r="596">
                                                <a:s r="595">
                                                    <a:s>Result</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="596">
                                                    <a:s>effective</a:s>
                                                </a:s>
                                            </a:s>
                                            <a:s> is </a:s>
                                            <a:s r="597">
                                                <a:s>Period</a:s>
                                            </a:s>
                                        </a:s>
                                        <a:s>
                                            then </a:s>
                                        <a:s r="606">
                                            <a:s r="604">
                                                <a:s>(</a:s>
                                                <a:s r="604">
                                                    <a:s r="602">
                                                        <a:s>end of </a:s>
                                                        <a:s r="601">
                                                            <a:s>PeriodToInterval(</a:s>
                                                            <a:s r="600">
                                                                <a:s r="599">
                                                                    <a:s>Result</a:s>
                                                                </a:s>
                                                                <a:s>.</a:s>
                                                                <a:s r="600">
                                                                    <a:s>effective</a:s>
                                                                </a:s>
                                                            </a:s>
                                                            <a:s>)</a:s>
                                                        </a:s>
                                                    </a:s>
                                                    <a:s> + </a:s>
                                                    <a:s r="603">
                                                        <a:s>10 months</a:s>
                                                    </a:s>
                                                </a:s>
                                                <a:s>)</a:s>
                                            </a:s>
                                            <a:s> &lt; </a:s>
                                            <a:s r="605">
                                                <a:s>Today()</a:s>
                                            </a:s>
                                        </a:s>
                                    </a:s>
                                    <a:s>
                                        else false
                                        end</a:s>
                                </a:s>
                            </a:s>
                        </a:s>
                    </a:s>
                </a:s>
            </annotation>
            <expression localId="612" xsi:type="And">
                <operand localId="580" xsi:type="Not">
                    <operand localId="579" name="Needs Foot Exam Test" xsi:type="ExpressionRef"/>
                </operand>
                <operand localId="611" xsi:type="Query">
                    <source localId="582" alias="Result">
                        <expression localId="581" name="Get Last Foot Exam Result" xsi:type="ExpressionRef"/>
                    </source>
                    <return localId="610">
                        <expression localId="609" xsi:type="Case">
                            <caseItem localId="594">
                                <when localId="586" xsi:type="Is">
                                    <operand localId="584" path="effective" scope="Result" xsi:type="Property"/>
                                    <isTypeSpecifier localId="585" name="fhir:dateTime" xsi:type="NamedTypeSpecifier"/>
                                </when>
                                <then localId="593" xsi:type="Less">
                                    <operand localId="591" xsi:type="Add">
                                        <operand localId="589" path="value" xsi:type="Property">
                                            <source localId="588" path="effective" scope="Result" xsi:type="Property"/>
                                        </operand>
                                        <operand localId="590" value="10" unit="months" xsi:type="Quantity"/>
                                    </operand>
                                    <operand localId="592" xsi:type="Today"/>
                                </then>
                            </caseItem>
                            <caseItem localId="607">
                                <when localId="598" xsi:type="Is">
                                    <operand localId="596" path="effective" scope="Result" xsi:type="Property"/>
                                    <isTypeSpecifier localId="597" name="fhir:Period" xsi:type="NamedTypeSpecifier"/>
                                </when>
                                <then localId="606" xsi:type="Less">
                                    <operand localId="604" xsi:type="Add">
                                        <operand localId="602" xsi:type="End">
                                            <operand localId="601" name="PeriodToInterval" xsi:type="FunctionRef">
                                                <operand asType="fhir:Period" xsi:type="As">
                                                    <operand localId="600" path="effective" scope="Result" xsi:type="Property"/>
                                                    <asTypeSpecifier name="fhir:Period" xsi:type="NamedTypeSpecifier"/>
                                                </operand>
                                            </operand>
                                        </operand>
                                        <operand localId="603" value="10" unit="months" xsi:type="Quantity"/>
                                    </operand>
                                    <operand localId="605" xsi:type="Today"/>
                                </then>
                            </caseItem>
                            <else localId="608" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                        </expression>
                    </return>
                </operand>
            </expression>
        </def>
        <def localId="615" name="AbnormalFootExamSummary" context="Patient" accessLevel="Public">
            <annotation xsi:type="a:Annotation">
                <a:s r="615">
                    <a:s>define AbnormalFootExamSummary:
                    </a:s>
                    <a:s r="614">
                        <a:s>'Abnormal Foot Exam detected in most recent lab results'</a:s>
                    </a:s>
                </a:s>
            </annotation>
            <expression localId="614" valueType="t:String" value="Abnormal Foot Exam detected in most recent lab results" xsi:type="Literal"/>
        </def>
        <def localId="620" name="AbnormalFootExamDetail" context="Patient" accessLevel="Public">
            <annotation xsi:type="a:Annotation">
                <a:s r="620">
                    <a:s>define AbnormalFootExamDetail:
                    </a:s>
                    <a:s r="619">
                        <a:s r="616">
                            <a:s>'The Foot Exam resulted in the following abnormality: '</a:s>
                        </a:s>
                        <a:s> + </a:s>
                        <a:s r="618">
                            <a:s r="617">
                                <a:s>&quot;Get Foot Exam Result&quot;</a:s>
                            </a:s>
                            <a:s>.</a:s>
                            <a:s r="618">
                                <a:s>value</a:s>
                            </a:s>
                        </a:s>
                    </a:s>
                </a:s>
            </annotation>
            <expression localId="619" xsi:type="Concatenate">
                <operand localId="616" valueType="t:String" value="The Foot Exam resulted in the following abnormality: " xsi:type="Literal"/>
                <operand localId="618" path="value" xsi:type="Property">
                    <source localId="617" name="Get Foot Exam Result" xsi:type="ExpressionRef"/>
                </operand>
            </expression>
        </def>
        <def localId="622" name="AbnormalFootExamIndicator" context="Patient" accessLevel="Public">
            <annotation xsi:type="a:Annotation">
                <a:s r="622">
                    <a:s>define AbnormalFootExamIndicator:
                    </a:s>
                    <a:s r="621">
                        <a:s>'warning'</a:s>
                    </a:s>
                </a:s>
            </annotation>
            <expression localId="621" valueType="t:String" value="warning" xsi:type="Literal"/>
        </def>
        <def localId="625" name="Get Last Eye Exam Result" context="Patient" accessLevel="Public">
            <annotation xsi:type="a:Annotation">
                <a:s r="625">
                    <a:s>define &quot;Get Last Eye Exam Result&quot;:
                    </a:s>
                    <a:s r="624">
                        <a:s>Last( </a:s>
                        <a:s r="623">
                            <a:s>[Observation: code in </a:s>
                            <a:s>
                                <a:s>&quot;Eye Exam Labs&quot;</a:s>
                            </a:s>
                            <a:s>]</a:s>
                        </a:s>
                        <a:s> )</a:s>
                    </a:s>
                </a:s>
            </annotation>
            <expression localId="624" xsi:type="Last">
                <source localId="623" dataType="fhir:Observation" codeProperty="code" xsi:type="Retrieve">
                    <codes name="Eye Exam Labs" xsi:type="ValueSetRef"/>
                </source>
            </expression>
        </def>
        <def localId="635" name="Has Abnormal Eye Exam" context="Patient" accessLevel="Public">
            <annotation xsi:type="a:Annotation">
                <a:s r="635">
                    <a:s>define &quot;Has Abnormal Eye Exam&quot;:
                    </a:s>
                    <a:s r="634">
                        <a:s>
                            <a:s r="627">
                                <a:s r="626">
                                    <a:s>
                                        <a:s>&quot;Get Last Eye Exam Result&quot;</a:s>
                                    </a:s>
                                </a:s>
                                <a:s> Result</a:s>
                            </a:s>
                        </a:s>
                        <a:s>
                        </a:s>
                        <a:s r="633">
                            <a:s>return
                            </a:s>
                            <a:s r="632">
                                <a:s r="630">
                                    <a:s>ToConcept(</a:s>
                                    <a:s r="629">
                                        <a:s r="628">
                                            <a:s>Result</a:s>
                                        </a:s>
                                        <a:s>.</a:s>
                                        <a:s r="629">
                                            <a:s>interpretation</a:s>
                                        </a:s>
                                    </a:s>
                                    <a:s>)</a:s>
                                </a:s>
                                <a:s> in </a:s>
                                <a:s r="631">
                                    <a:s>&quot;Abnormal Interpretation Codes&quot;</a:s>
                                </a:s>
                            </a:s>
                        </a:s>
                    </a:s>
                </a:s>
            </annotation>
            <expression localId="634" xsi:type="Query">
                <source localId="627" alias="Result">
                    <expression localId="626" name="Get Last Eye Exam Result" xsi:type="ExpressionRef"/>
                </source>
                <return localId="633">
                    <expression localId="632" xsi:type="InValueSet">
                        <code localId="630" name="ToConcept" xsi:type="FunctionRef">
                            <operand localId="629" path="interpretation" scope="Result" xsi:type="Property"/>
                        </code>
                        <valueset localId="631" name="Abnormal Interpretation Codes"/>
                    </expression>
                </return>
            </expression>
        </def>
        <def localId="652" name="Get Eye Exam Result" context="Patient" accessLevel="Public">
            <annotation xsi:type="a:Annotation">
                <a:s r="652">
                    <a:s>define &quot;Get Eye Exam Result&quot;:
                    </a:s>
                    <a:s r="651">
                        <a:s>
                            <a:s r="637">
                                <a:s r="636">
                                    <a:s>
                                        <a:s>&quot;Get Last Eye Exam Result&quot;</a:s>
                                    </a:s>
                                </a:s>
                                <a:s> Result</a:s>
                            </a:s>
                        </a:s>
                        <a:s>
                        </a:s>
                        <a:s r="650">
                            <a:s>return
                            </a:s>
                            <a:s r="649">
                                <a:s>if </a:s>
                                <a:s r="641">
                                    <a:s r="639">
                                        <a:s r="638">
                                            <a:s>Result</a:s>
                                        </a:s>
                                        <a:s>.</a:s>
                                        <a:s r="639">
                                            <a:s>value</a:s>
                                        </a:s>
                                    </a:s>
                                    <a:s> is </a:s>
                                    <a:s r="640">
                                        <a:s>CodeableConcept</a:s>
                                    </a:s>
                                </a:s>
                                <a:s>
                                    then </a:s>
                                <a:s r="647">
                                    <a:s r="646">
                                        <a:s r="644">
                                            <a:s r="643">
                                                <a:s r="642">
                                                    <a:s>Result</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="643">
                                                    <a:s>value</a:s>
                                                </a:s>
                                            </a:s>
                                            <a:s>.</a:s>
                                            <a:s r="644">
                                                <a:s>coding</a:s>
                                            </a:s>
                                        </a:s>
                                        <a:s>[0]</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="647">
                                        <a:s>display</a:s>
                                    </a:s>
                                </a:s>
                                <a:s>
                                    else null</a:s>
                            </a:s>
                        </a:s>
                    </a:s>
                </a:s>
            </annotation>
            <expression localId="651" xsi:type="Query">
                <source localId="637" alias="Result">
                    <expression localId="636" name="Get Last Eye Exam Result" xsi:type="ExpressionRef"/>
                </source>
                <return localId="650">
                    <expression localId="649" xsi:type="If">
                        <condition asType="t:Boolean" xsi:type="As">
                            <operand localId="641" xsi:type="Is">
                                <operand localId="639" path="value" scope="Result" xsi:type="Property"/>
                                <isTypeSpecifier localId="640" name="fhir:CodeableConcept" xsi:type="NamedTypeSpecifier"/>
                            </operand>
                            <asTypeSpecifier name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                        </condition>
                        <then localId="647" path="display" xsi:type="Property">
                            <source localId="646" xsi:type="Indexer">
                                <operand localId="644" path="coding" xsi:type="Property">
                                    <source localId="643" path="value" scope="Result" xsi:type="Property"/>
                                </operand>
                                <operand localId="645" valueType="t:Integer" value="0" xsi:type="Literal"/>
                            </source>
                        </then>
                        <else asType="fhir:string" xsi:type="As">
                            <operand localId="648" xsi:type="Null"/>
                            <asTypeSpecifier name="fhir:string" xsi:type="NamedTypeSpecifier"/>
                        </else>
                    </expression>
                </return>
            </expression>
        </def>
        <def localId="689" name="Needs Eye Exam" context="Patient" accessLevel="Public">
            <annotation xsi:type="a:Annotation">
                <a:s r="689">
                    <a:s>define &quot;Needs Eye Exam&quot;:
                    </a:s>
                    <a:s r="688">
                        <a:s>
                            <a:s r="654">
                                <a:s r="653">
                                    <a:s>
                                        <a:s>&quot;Get Last Eye Exam Result&quot;</a:s>
                                    </a:s>
                                </a:s>
                                <a:s> Result</a:s>
                            </a:s>
                        </a:s>
                        <a:s>
                        </a:s>
                        <a:s r="687">
                            <a:s>return
                            </a:s>
                            <a:s r="686">
                                <a:s>case
                                </a:s>
                                <a:s r="659">
                                    <a:s>when </a:s>
                                    <a:s r="657">
                                        <a:s r="656">
                                            <a:s r="655">
                                                <a:s>Result</a:s>
                                            </a:s>
                                            <a:s>.</a:s>
                                            <a:s r="656">
                                                <a:s>effective</a:s>
                                            </a:s>
                                        </a:s>
                                        <a:s> is null</a:s>
                                    </a:s>
                                    <a:s>
                                        then true</a:s>
                                </a:s>
                                <a:s>
                                </a:s>
                                <a:s r="671">
                                    <a:s>when </a:s>
                                    <a:s r="663">
                                        <a:s r="661">
                                            <a:s r="660">
                                                <a:s>Result</a:s>
                                            </a:s>
                                            <a:s>.</a:s>
                                            <a:s r="661">
                                                <a:s>effective</a:s>
                                            </a:s>
                                        </a:s>
                                        <a:s> is </a:s>
                                        <a:s r="662">
                                            <a:s>dateTime</a:s>
                                        </a:s>
                                    </a:s>
                                    <a:s>
                                        then </a:s>
                                    <a:s r="670">
                                        <a:s r="668">
                                            <a:s>(</a:s>
                                            <a:s r="668">
                                                <a:s r="666">
                                                    <a:s r="665">
                                                        <a:s r="664">
                                                            <a:s>Result</a:s>
                                                        </a:s>
                                                        <a:s>.</a:s>
                                                        <a:s r="665">
                                                            <a:s>effective</a:s>
                                                        </a:s>
                                                    </a:s>
                                                    <a:s>.</a:s>
                                                    <a:s r="666">
                                                        <a:s>value</a:s>
                                                    </a:s>
                                                </a:s>
                                                <a:s> + </a:s>
                                                <a:s r="667">
                                                    <a:s>1 year</a:s>
                                                </a:s>
                                            </a:s>
                                            <a:s>)</a:s>
                                        </a:s>
                                        <a:s> &lt; </a:s>
                                        <a:s r="669">
                                            <a:s>Today()</a:s>
                                        </a:s>
                                    </a:s>
                                </a:s>
                                <a:s>
                                </a:s>
                                <a:s r="684">
                                    <a:s>when </a:s>
                                    <a:s r="675">
                                        <a:s r="673">
                                            <a:s r="672">
                                                <a:s>Result</a:s>
                                            </a:s>
                                            <a:s>.</a:s>
                                            <a:s r="673">
                                                <a:s>effective</a:s>
                                            </a:s>
                                        </a:s>
                                        <a:s> is </a:s>
                                        <a:s r="674">
                                            <a:s>Period</a:s>
                                        </a:s>
                                    </a:s>
                                    <a:s>
                                        then </a:s>
                                    <a:s r="683">
                                        <a:s r="681">
                                            <a:s>(</a:s>
                                            <a:s r="681">
                                                <a:s r="679">
                                                    <a:s>end of </a:s>
                                                    <a:s r="678">
                                                        <a:s>PeriodToInterval(</a:s>
                                                        <a:s r="677">
                                                            <a:s r="676">
                                                                <a:s>Result</a:s>
                                                            </a:s>
                                                            <a:s>.</a:s>
                                                            <a:s r="677">
                                                                <a:s>effective</a:s>
                                                            </a:s>
                                                        </a:s>
                                                        <a:s>)</a:s>
                                                    </a:s>
                                                </a:s>
                                                <a:s> + </a:s>
                                                <a:s r="680">
                                                    <a:s>1 year</a:s>
                                                </a:s>
                                            </a:s>
                                            <a:s>)</a:s>
                                        </a:s>
                                        <a:s> &lt; </a:s>
                                        <a:s r="682">
                                            <a:s>Today()</a:s>
                                        </a:s>
                                    </a:s>
                                </a:s>
                                <a:s>
                                    else false
                                    end</a:s>
                            </a:s>
                        </a:s>
                    </a:s>
                </a:s>
            </annotation>
            <expression localId="688" xsi:type="Query">
                <source localId="654" alias="Result">
                    <expression localId="653" name="Get Last Eye Exam Result" xsi:type="ExpressionRef"/>
                </source>
                <return localId="687">
                    <expression localId="686" xsi:type="Case">
                        <caseItem localId="659">
                            <when localId="657" xsi:type="IsNull">
                                <operand localId="656" path="effective" scope="Result" xsi:type="Property"/>
                            </when>
                            <then localId="658" valueType="t:Boolean" value="true" xsi:type="Literal"/>
                        </caseItem>
                        <caseItem localId="671">
                            <when localId="663" xsi:type="Is">
                                <operand localId="661" path="effective" scope="Result" xsi:type="Property"/>
                                <isTypeSpecifier localId="662" name="fhir:dateTime" xsi:type="NamedTypeSpecifier"/>
                            </when>
                            <then localId="670" xsi:type="Less">
                                <operand localId="668" xsi:type="Add">
                                    <operand localId="666" path="value" xsi:type="Property">
                                        <source localId="665" path="effective" scope="Result" xsi:type="Property"/>
                                    </operand>
                                    <operand localId="667" value="1" unit="year" xsi:type="Quantity"/>
                                </operand>
                                <operand localId="669" xsi:type="Today"/>
                            </then>
                        </caseItem>
                        <caseItem localId="684">
                            <when localId="675" xsi:type="Is">
                                <operand localId="673" path="effective" scope="Result" xsi:type="Property"/>
                                <isTypeSpecifier localId="674" name="fhir:Period" xsi:type="NamedTypeSpecifier"/>
                            </when>
                            <then localId="683" xsi:type="Less">
                                <operand localId="681" xsi:type="Add">
                                    <operand localId="679" xsi:type="End">
                                        <operand localId="678" name="PeriodToInterval" xsi:type="FunctionRef">
                                            <operand asType="fhir:Period" xsi:type="As">
                                                <operand localId="677" path="effective" scope="Result" xsi:type="Property"/>
                                                <asTypeSpecifier name="fhir:Period" xsi:type="NamedTypeSpecifier"/>
                                            </operand>
                                        </operand>
                                    </operand>
                                    <operand localId="680" value="1" unit="year" xsi:type="Quantity"/>
                                </operand>
                                <operand localId="682" xsi:type="Today"/>
                            </then>
                        </caseItem>
                        <else localId="685" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                    </expression>
                </return>
            </expression>
        </def>
        <def localId="724" name="Should Consider Ordering Eye Exam" context="Patient" accessLevel="Public">
            <annotation xsi:type="a:Annotation">
                <a:s r="724">
                    <a:s>define &quot;Should Consider Ordering Eye Exam&quot;:
                    </a:s>
                    <a:s r="723">
                        <a:s r="691">
                            <a:s>not </a:s>
                            <a:s r="690">
                                <a:s>&quot;Needs Eye Exam&quot;</a:s>
                            </a:s>
                        </a:s>
                        <a:s>
                            and
                        </a:s>
                        <a:s r="722">
                            <a:s>
                                <a:s r="693">
                                    <a:s r="692">
                                        <a:s>
                                            <a:s>&quot;Get Last Eye Exam Result&quot;</a:s>
                                        </a:s>
                                    </a:s>
                                    <a:s> Result</a:s>
                                </a:s>
                            </a:s>
                            <a:s>
                            </a:s>
                            <a:s r="721">
                                <a:s>return
                                </a:s>
                                <a:s r="720">
                                    <a:s>case
                                    </a:s>
                                    <a:s r="705">
                                        <a:s>when </a:s>
                                        <a:s r="697">
                                            <a:s r="695">
                                                <a:s r="694">
                                                    <a:s>Result</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="695">
                                                    <a:s>effective</a:s>
                                                </a:s>
                                            </a:s>
                                            <a:s> is </a:s>
                                            <a:s r="696">
                                                <a:s>dateTime</a:s>
                                            </a:s>
                                        </a:s>
                                        <a:s>
                                            then </a:s>
                                        <a:s r="704">
                                            <a:s r="702">
                                                <a:s>(</a:s>
                                                <a:s r="702">
                                                    <a:s r="700">
                                                        <a:s r="699">
                                                            <a:s r="698">
                                                                <a:s>Result</a:s>
                                                            </a:s>
                                                            <a:s>.</a:s>
                                                            <a:s r="699">
                                                                <a:s>effective</a:s>
                                                            </a:s>
                                                        </a:s>
                                                        <a:s>.</a:s>
                                                        <a:s r="700">
                                                            <a:s>value</a:s>
                                                        </a:s>
                                                    </a:s>
                                                    <a:s> + </a:s>
                                                    <a:s r="701">
                                                        <a:s>10 months</a:s>
                                                    </a:s>
                                                </a:s>
                                                <a:s>)</a:s>
                                            </a:s>
                                            <a:s> &lt; </a:s>
                                            <a:s r="703">
                                                <a:s>Today()</a:s>
                                            </a:s>
                                        </a:s>
                                    </a:s>
                                    <a:s>
                                    </a:s>
                                    <a:s r="718">
                                        <a:s>when </a:s>
                                        <a:s r="709">
                                            <a:s r="707">
                                                <a:s r="706">
                                                    <a:s>Result</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="707">
                                                    <a:s>effective</a:s>
                                                </a:s>
                                            </a:s>
                                            <a:s> is </a:s>
                                            <a:s r="708">
                                                <a:s>Period</a:s>
                                            </a:s>
                                        </a:s>
                                        <a:s>
                                            then </a:s>
                                        <a:s r="717">
                                            <a:s r="715">
                                                <a:s>(</a:s>
                                                <a:s r="715">
                                                    <a:s r="713">
                                                        <a:s>end of </a:s>
                                                        <a:s r="712">
                                                            <a:s>PeriodToInterval(</a:s>
                                                            <a:s r="711">
                                                                <a:s r="710">
                                                                    <a:s>Result</a:s>
                                                                </a:s>
                                                                <a:s>.</a:s>
                                                                <a:s r="711">
                                                                    <a:s>effective</a:s>
                                                                </a:s>
                                                            </a:s>
                                                            <a:s>)</a:s>
                                                        </a:s>
                                                    </a:s>
                                                    <a:s> + </a:s>
                                                    <a:s r="714">
                                                        <a:s>10 months</a:s>
                                                    </a:s>
                                                </a:s>
                                                <a:s>)</a:s>
                                            </a:s>
                                            <a:s> &lt; </a:s>
                                            <a:s r="716">
                                                <a:s>Today()</a:s>
                                            </a:s>
                                        </a:s>
                                    </a:s>
                                    <a:s>
                                        else false
                                        end</a:s>
                                </a:s>
                            </a:s>
                        </a:s>
                    </a:s>
                </a:s>
            </annotation>
            <expression localId="723" xsi:type="And">
                <operand localId="691" xsi:type="Not">
                    <operand localId="690" name="Needs Eye Exam" xsi:type="ExpressionRef"/>
                </operand>
                <operand localId="722" xsi:type="Query">
                    <source localId="693" alias="Result">
                        <expression localId="692" name="Get Last Eye Exam Result" xsi:type="ExpressionRef"/>
                    </source>
                    <return localId="721">
                        <expression localId="720" xsi:type="Case">
                            <caseItem localId="705">
                                <when localId="697" xsi:type="Is">
                                    <operand localId="695" path="effective" scope="Result" xsi:type="Property"/>
                                    <isTypeSpecifier localId="696" name="fhir:dateTime" xsi:type="NamedTypeSpecifier"/>
                                </when>
                                <then localId="704" xsi:type="Less">
                                    <operand localId="702" xsi:type="Add">
                                        <operand localId="700" path="value" xsi:type="Property">
                                            <source localId="699" path="effective" scope="Result" xsi:type="Property"/>
                                        </operand>
                                        <operand localId="701" value="10" unit="months" xsi:type="Quantity"/>
                                    </operand>
                                    <operand localId="703" xsi:type="Today"/>
                                </then>
                            </caseItem>
                            <caseItem localId="718">
                                <when localId="709" xsi:type="Is">
                                    <operand localId="707" path="effective" scope="Result" xsi:type="Property"/>
                                    <isTypeSpecifier localId="708" name="fhir:Period" xsi:type="NamedTypeSpecifier"/>
                                </when>
                                <then localId="717" xsi:type="Less">
                                    <operand localId="715" xsi:type="Add">
                                        <operand localId="713" xsi:type="End">
                                            <operand localId="712" name="PeriodToInterval" xsi:type="FunctionRef">
                                                <operand asType="fhir:Period" xsi:type="As">
                                                    <operand localId="711" path="effective" scope="Result" xsi:type="Property"/>
                                                    <asTypeSpecifier name="fhir:Period" xsi:type="NamedTypeSpecifier"/>
                                                </operand>
                                            </operand>
                                        </operand>
                                        <operand localId="714" value="10" unit="months" xsi:type="Quantity"/>
                                    </operand>
                                    <operand localId="716" xsi:type="Today"/>
                                </then>
                            </caseItem>
                            <else localId="719" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                        </expression>
                    </return>
                </operand>
            </expression>
        </def>
        <def localId="726" name="AbnormalEyeExamSummary" context="Patient" accessLevel="Public">
            <annotation xsi:type="a:Annotation">
                <a:s r="726">
                    <a:s>define AbnormalEyeExamSummary:
                    </a:s>
                    <a:s r="725">
                        <a:s>'Abnormal Eye Exam detected in most recent lab results'</a:s>
                    </a:s>
                </a:s>
            </annotation>
            <expression localId="725" valueType="t:String" value="Abnormal Eye Exam detected in most recent lab results" xsi:type="Literal"/>
        </def>
        <def localId="731" name="AbnormalEyeExamDetail" context="Patient" accessLevel="Public">
            <annotation xsi:type="a:Annotation">
                <a:s r="731">
                    <a:s>define AbnormalEyeExamDetail:
                    </a:s>
                    <a:s r="730">
                        <a:s r="727">
                            <a:s>'The Eye Exam resulted in the following abnormality: '</a:s>
                        </a:s>
                        <a:s> + </a:s>
                        <a:s r="729">
                            <a:s r="728">
                                <a:s>&quot;Get Eye Exam Result&quot;</a:s>
                            </a:s>
                            <a:s>.</a:s>
                            <a:s r="729">
                                <a:s>value</a:s>
                            </a:s>
                        </a:s>
                    </a:s>
                </a:s>
            </annotation>
            <expression localId="730" xsi:type="Concatenate">
                <operand localId="727" valueType="t:String" value="The Eye Exam resulted in the following abnormality: " xsi:type="Literal"/>
                <operand localId="729" path="value" xsi:type="Property">
                    <source localId="728" name="Get Eye Exam Result" xsi:type="ExpressionRef"/>
                </operand>
            </expression>
        </def>
        <def localId="733" name="AbnormalEyeExamIndicator" context="Patient" accessLevel="Public">
            <annotation xsi:type="a:Annotation">
                <a:s r="733">
                    <a:s>define AbnormalEyeExamIndicator:
                    </a:s>
                    <a:s r="732">
                        <a:s>'warning'</a:s>
                    </a:s>
                </a:s>
            </annotation>
            <expression localId="732" valueType="t:String" value="warning" xsi:type="Literal"/>
        </def>
    </statements>
</library>
